<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RJF Blood Connect - Roktojoba Foundation</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <style>
        :root {
            --primary-color: #e63946;
            --secondary-color: #f7d9d9;
            --dark-color: #1d3557;
            --light-color: #f1faee;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: var(--secondary-color);
            color: #333;
        }
        
        .logo-container {
            text-align: center;
            padding: 20px 0;
            animation: fadeIn 1.5s ease-in-out;
        }
        
        .logo {
            max-width: 200px;
            height: auto;
            margin-bottom: 10px;
        }
        
        .tagline {
            font-style: italic;
            color: var(--primary-color);
            margin-bottom: 20px;
        }
        
        .card {
            border-radius: 15px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            margin-bottom: 20px;
            border: none;
            transition: all 0.3s ease;
        }
        
        .card-header {
            background-color: var(--primary-color);
            color: white;
            border-radius: 15px 15px 0 0 !important;
            font-weight: bold;
        }
        
        .btn-primary {
            background-color: var(--primary-color);
            border-color: var(--primary-color);
        }
        
        .btn-primary:hover {
            background-color: #c1121f;
            border-color: #c1121f;
        }
        
        .blood-group-badge {
            font-size: 1.2rem;
            padding: 8px 15px;
            margin: 5px;
            border-radius: 50%;
            background-color: var(--primary-color);
            color: white;
        }
        
        .donor-card {
            transition: transform 0.3s;
        }
        
        .donor-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.1);
        }
        
        .contact-btn {
            background-color: #2a9d8f;
            border-color: #2a9d8f;
        }
        
        .contact-btn:hover {
            background-color: #21867a;
            border-color: #21867a;
        }
        
        .loading-spinner {
            display: none;
            text-align: center;
            padding: 20px;
        }
        
        .spinner {
            width: 3rem;
            height: 3rem;
            color: var(--primary-color);
        }
        
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        .section-title {
            color: var(--primary-color);
            border-bottom: 2px solid var(--primary-color);
            padding-bottom: 5px;
            margin-bottom: 20px;
        }
        
        .feature-icon {
            color: var(--primary-color);
            font-size: 1.5rem;
            margin-right: 10px;
        }
        
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
        
        .animated-logo {
            animation: pulse 2s infinite;
        }
        
        @media (max-width: 768px) {
            .logo {
                max-width: 150px;
            }
            
            .blood-group-badge {
                font-size: 1rem;
                padding: 6px 12px;
            }
        }
        
        .alert-fixed {
            position: fixed;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 9999;
            min-width: 300px;
            text-align: center;
        }
        
        .emergency-btn {
            position: fixed;
            bottom: 30px;
            right: 30px;
            z-index: 1000;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background-color: #35b824;
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
            animation: pulse 1.5s infinite;
        }
        
        .bangla-text {
            font-family: 'SolaimanLipi', 'Siyam Rupali', Arial, sans-serif;
        }
        
        .whatsapp-btn {
            background-color: #25D366;
            border-color: #25D366;
        }
        
        .whatsapp-btn:hover {
            background-color: #1da851;
            border-color: #1da851;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        .loading-spinner .spinner-border {
            animation: spin 1s linear infinite;
        }
        
        .form-label {
            font-weight: 500;
            margin-bottom: 5px;
        }
        
        /* ‡¶®‡¶§‡ßÅ‡¶® ‡¶∏‡ßç‡¶ü‡¶æ‡¶á‡¶≤ ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡¶æ ‡¶π‡ßü‡ßá‡¶õ‡ßá */
        .donor-status {
            font-size: 0.8rem;
            padding: 3px 8px;
            border-radius: 10px;
            background-color: #28a745;
            color: white;
        }
        
        .last-donation-info {
            font-size: 0.9rem;
            color: #6c757d;
        }
    </style>
</head>
<body>
    <!-- Logo and Header -->
    <div class="container-fluid py-3" style="background-color: white;">
        <div class="logo-container">
            <img src="roktojoba-logo.png" alt="Roktojoba Foundation Logo" class="logo animated-logo">
            <h1>RJF Blood Connect</h1>
            <p class="tagline">‡¶è‡¶ï‡¶ü‡¶ø ‡¶Ö‡¶∞‡¶æ‡¶ú‡¶®‡ßà‡¶§‡¶ø‡¶ï,‡¶Æ‡¶æ‡¶®‡¶¨‡¶ø‡¶ï, ‡¶∏‡¶æ‡¶Æ‡¶æ‡¶ú‡¶ø‡¶ï ‡¶ì ‡¶∏‡ßç‡¶¨‡ßá‡¶ö‡ßç‡¶õ‡¶æ‡¶∏‡ßá‡¶¨‡ßÄ ‡¶∏‡¶Ç‡¶ó‡¶†‡¶®</p>
            <p><i class="fas fa-phone-alt"></i> ‡¶Ö‡¶´‡¶ø‡¶∏‡¶ø‡ßü‡¶æ‡¶≤ ‡¶®‡¶Æ‡ßç‡¶¨‡¶∞: ‡ß¶‡ßß‡ß¨‡ß¶‡ß¨‡ßØ‡ß¨‡ß™‡ß´‡ß´‡ß¶</p>
        </div>
    </div>

    <!-- Main Content -->
    <div class="container py-4">
        <!-- Features Section -->
        <div class="row mb-4">
            <div class="col-12">
                <h2 class="section-title"><i class="fas fa-star feature-icon"></i>‡¶Æ‡ßÇ‡¶≤ ‡¶¨‡ßà‡¶∂‡¶ø‡¶∑‡ßç‡¶ü‡ßç‡¶Ø‡¶∏‡¶Æ‡ßÇ‡¶π</h2>
                <div class="row">
                    <div class="col-md-4 mb-3">
                        <div class="card h-100">
                            <div class="card-body">
                                <h5 class="card-title"><i class="fas fa-user-plus feature-icon"></i>‡¶¶‡¶æ‡¶§‡¶æ ‡¶®‡¶ø‡¶¨‡¶®‡ßç‡¶ß‡¶®</h5>
                                <p class="card-text bangla-text">‡¶è‡¶ï‡¶ú‡¶® ‡¶∞‡¶ï‡ßç‡¶§‡¶¶‡¶æ‡¶§‡¶æ ‡¶π‡¶ø‡¶∏‡ßá‡¶¨‡ßá ‡¶®‡¶ø‡¶¨‡¶®‡ßç‡¶ß‡¶® ‡¶ï‡¶∞‡ßÅ‡¶® ‡¶è‡¶¨‡¶Ç "‡¶∞‡¶ï‡ßç‡¶§‡¶¶‡¶æ‡¶§‡¶æ ‡¶π‡ßã‡¶®, ‡¶ú‡ßÄ‡¶¨‡¶® ‡¶¨‡¶æ‡¶Å‡¶ö‡¶æ‡¶® ‚Äì ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶è‡¶ï ‡¶¨‡¶æ‡¶∞‡ßá‡¶∞ ‡¶∞‡¶ï‡ßç‡¶§‡¶¶‡¶æ‡¶®‡¶á ‡¶π‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡ßá ‡¶ï‡¶æ‡¶∞‡¶ì ‡¶ú‡ßÄ‡¶¨‡¶®‡ßá‡¶∞ ‡¶∏‡¶¨‡¶ö‡ßá‡¶Ø‡¶º‡ßá ‡¶Æ‡ßÇ‡¶≤‡ßç‡¶Ø‡¶¨‡¶æ‡¶® ‡¶â‡¶™‡¶π‡¶æ‡¶∞!"</p>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4 mb-3">
                        <div class="card h-100">
                            <div class="card-body">
                                <h5 class="card-title"><i class="fas fa-tint feature-icon"></i>‡¶∞‡¶ï‡ßç‡¶§‡ßá‡¶∞ ‡¶Ö‡¶®‡ßÅ‡¶∞‡ßã‡¶ß</h5>
                                <p class="card-text bangla-text">‡¶™‡ßç‡¶∞‡¶Ø‡¶º‡ßã‡¶ú‡¶®‡ßá ‡¶∞‡¶ï‡ßç‡¶§‡ßá‡¶∞ ‡¶Ö‡¶®‡ßÅ‡¶∞‡ßã‡¶ß ‡¶ï‡¶∞‡ßÅ‡¶® ‡¶Ö‡¶•‡¶¨‡¶æ ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶¶‡ßá‡¶ì‡ßü‡¶æ ‡¶∞‡¶ï‡ßç‡¶§‡ßá‡¶∞ ‡¶ó‡ßç‡¶∞‡ßÅ‡¶™‡ßá‡¶∞  ‡¶∞‡¶ï‡ßç‡¶§‡¶¶‡¶æ‡¶§‡¶æ ‡¶ñ‡ßÅ‡¶Å‡¶ú‡ßá ‡¶§‡¶æ‡¶¶‡ßá‡¶∞ ‡¶∏‡¶æ‡¶•‡ßá ‡¶∏‡¶Ç‡¶Ø‡ßÅ‡¶ï‡ßç‡¶§ ‡¶π‡ßã‡¶® ‡•§</p>
                                <p class="card-text bangla-text">‚úÖ ‡¶®‡¶ø‡¶∞‡¶æ‡¶™‡¶¶ ‡¶∞‡¶ï‡ßç‡¶§‡¶¶‡¶æ‡¶®: ‡¶∏‡ßç‡¶¨‡¶æ‡¶∏‡ßç‡¶•‡ßç‡¶Ø‡¶¨‡¶ø‡¶ß‡¶ø ‡¶Æ‡ßá‡¶®‡ßá ‡¶∞‡¶ï‡ßç‡¶§ ‡¶™‡¶∞‡¶ø‡¶∏‡¶û‡ßç‡¶ö‡¶æ‡¶≤‡¶® ‡¶®‡¶ø‡¶∂‡ßç‡¶ö‡¶ø‡¶§ ‡¶ï‡¶∞‡ßÅ‡¶®‡•§</p>
                                <p class="card-text bangla-text">‚ù§Ô∏è ‡¶∏‡¶π‡¶Ø‡ßã‡¶ó‡¶ø‡¶§‡¶æ‡¶∞ ‡¶π‡¶æ‡¶§: ‡¶°‡ßã‡¶®‡¶æ‡¶∞‡ßá‡¶∞ ‡¶∏‡ßÅ‡¶¨‡¶ø‡¶ß‡¶æ-‡¶Ö‡¶∏‡ßÅ‡¶¨‡¶ø‡¶ß‡¶æ‡¶∞ ‡¶™‡ßç‡¶∞‡¶§‡¶ø ‡¶∏‡¶Æ‡ßç‡¶Æ‡¶æ‡¶® ‡¶¶‡ßá‡¶ñ‡¶ø‡¶Ø‡¶º‡ßá ‡¶∏‡¶π‡¶æ‡¶Ø‡¶º‡¶§‡¶æ ‡¶ï‡¶∞‡ßÅ‡¶®‡•§</p>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4 mb-3">
                        <div class="card h-100">
                            <div class="card-body">
                                <h5 class="card-title"><i class="fas fa-bell feature-icon"></i>‡¶§‡¶æ‡¶§‡ßç‡¶ï‡ßç‡¶∑‡¶£‡¶ø‡¶ï ‡¶¨‡¶ø‡¶ú‡ßç‡¶û‡¶™‡ßç‡¶§‡¶ø</h5>
                                <p class="card-text bangla-text">ü©∏ ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶∞‡¶ï‡ßç‡¶§‡ßá‡¶∞ ‡¶ó‡ßç‡¶∞‡ßÅ‡¶™‡ßá‡¶∞ ‡¶â‡¶™‡¶Ø‡ßÅ‡¶ï‡ßç‡¶§ ‡¶¶‡¶æ‡¶§‡¶æ‡¶¶‡ßá‡¶∞ ‡¶ï‡¶æ‡¶õ‡ßá ‡¶∏‡ßç‡¶¨‡¶Ø‡¶º‡¶Ç‡¶ï‡ßç‡¶∞‡¶ø‡¶Ø‡¶º‡¶≠‡¶æ‡¶¨‡ßá ‡¶¨‡¶ø‡¶ú‡ßç‡¶û‡¶™‡ßç‡¶§‡¶ø ‡¶™‡¶æ‡¶†‡¶æ‡¶®‡ßã ‡¶π‡ßü‚Äî‡¶¶‡ßç‡¶∞‡ßÅ‡¶§‡¶§‡¶Æ ‡¶∏‡¶Æ‡¶Ø‡¶º‡ßá ‡¶∏‡¶æ‡¶π‡¶æ‡¶Ø‡ßç‡¶Ø ‡¶™‡ßá‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡ßá‡¶®‡•§</p>
                                <p class="card-text bangla-text">üí° ‡¶è‡¶ï‡¶ü‡¶ø ‡¶ï‡ßç‡¶≤‡¶ø‡¶ï‡ßá‡¶á ‡¶ú‡ßÄ‡¶¨‡¶® ‡¶¨‡¶æ‡¶Å‡¶ö‡¶æ‡¶®‡ßã‡¶∞ ‡¶∏‡ßÅ‡¶Ø‡ßã‡¶ó! ‡¶è‡¶ñ‡¶®‡¶á ‡¶∞‡¶ø‡¶ï‡ßã‡ßü‡ßá‡¶∏‡ßç‡¶ü ‡¶™‡¶æ‡¶†‡¶æ‡¶® ‡¶è‡¶¨‡¶Ç ‡¶â‡¶™‡¶Ø‡ßÅ‡¶ï‡ßç‡¶§ ‡¶∞‡¶ï‡ßç‡¶§‡¶¶‡¶æ‡¶§‡¶æ‡¶∞ ‡¶∏‡¶®‡ßç‡¶ß‡¶æ‡¶® ‡¶™‡¶æ‡¶®‡•§</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Emergency WhatsApp Button -->
        <a href="#" id="emergencyWhatsApp" class="emergency-btn" data-bs-toggle="modal" data-bs-target="#emergencyModal">
            <i class="fab fa-whatsapp"></i>
        </a>

        <!-- Emergency Modal -->
        <div class="modal fade" id="emergencyModal" tabindex="-1" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header bg-danger text-white">
                        <h5 class="modal-title">‡¶ú‡¶∞‡ßÅ‡¶∞‡¶ø ‡¶∞‡¶ï‡ßç‡¶§‡ßá‡¶∞ ‡¶™‡ßç‡¶∞‡ßü‡ßã‡¶ú‡¶®!</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                        <form id="emergencyForm">
                            <div class="mb-3">
                                <label for="emergencyBloodGroup" class="form-label">‡¶∞‡¶ï‡ßç‡¶§‡ßá‡¶∞ ‡¶ó‡ßç‡¶∞‡ßÅ‡¶™</label>
                                <select class="form-select" id="emergencyBloodGroup" required>
                                    <option value="" selected disabled>‡¶∞‡¶ï‡ßç‡¶§‡ßá‡¶∞ ‡¶ó‡ßç‡¶∞‡ßÅ‡¶™ ‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®</option>
                                    <option value="A+">A+</option>
                                    <option value="A-">A-</option>
                                    <option value="B+">B+</option>
                                    <option value="B-">B-</option>
                                    <option value="AB+">AB+</option>
                                    <option value="AB-">AB-</option>
                                    <option value="O+">O+</option>
                                    <option value="O-">O-</option>
                                </select>
                            </div>
                            <div class="mb-3">
                                <label for="emergencyLocation" class="form-label">‡¶∏‡ßç‡¶•‡¶æ‡¶® (‡¶π‡¶æ‡¶∏‡¶™‡¶æ‡¶§‡¶æ‡¶≤/‡¶†‡¶ø‡¶ï‡¶æ‡¶®‡¶æ)</label>
                                <input type="text" class="form-control" id="emergencyLocation" required>
                            </div>
                            <div class="mb-3">
                                <label for="emergencyPhone" class="form-label">‡¶Ø‡ßã‡¶ó‡¶æ‡¶Ø‡ßã‡¶ó ‡¶®‡¶Æ‡ßç‡¶¨‡¶∞ (whatsapp number)</label>
                                <input type="tel" class="form-control" id="emergencyPhone" required>
                            </div>
                            <div class="mb-3">
                                <label for="emergencyDetails" class="form-label">‡¶Ö‡¶§‡¶ø‡¶∞‡¶ø‡¶ï‡ßç‡¶§ ‡¶§‡¶•‡ßç‡¶Ø (‡¶ê‡¶ö‡ßç‡¶õ‡¶ø‡¶ï)</label>
                                <textarea class="form-control" id="emergencyDetails" rows="3"></textarea>
                            </div>
                        </form>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">‡¶¨‡¶®‡ßç‡¶ß ‡¶ï‡¶∞‡ßÅ‡¶®</button>
                        <button type="button" class="btn btn-danger" id="sendEmergencyRequest">
                            <i class="fab fa-whatsapp"></i> WhatsApp-‡¶è SMS ‡¶™‡¶æ‡¶†‡¶æ‡¶®
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Donor Registration Form -->
        <div class="row mb-4">
            <div class="col-12">
                <div class="card">
                    <div class="card-header">
                        <i class="fas fa-user-plus"></i> ‡¶¶‡¶æ‡¶§‡¶æ ‡¶®‡¶ø‡¶¨‡¶®‡ßç‡¶ß‡¶® ‡¶´‡¶∞‡ßç‡¶Æ
                    </div>
                    <div class="card-body">
                        <form id="donorForm">
                            <div class="row">
                                <div class="col-md-6 mb-3">
                                    <label for="donorName" class="form-label">‡¶®‡¶æ‡¶Æ</label>
                                    <input type="text" class="form-control" id="donorName" required>
                                </div>
                                <div class="col-md-6 mb-3">
                                    <label for="donorBloodGroup" class="form-label">‡¶∞‡¶ï‡ßç‡¶§‡ßá‡¶∞ ‡¶ó‡ßç‡¶∞‡ßÅ‡¶™</label>
                                    <select class="form-select" id="donorBloodGroup" required>
                                        <option value="" selected disabled>‡¶∞‡¶ï‡ßç‡¶§‡ßá‡¶∞ ‡¶ó‡ßç‡¶∞‡ßÅ‡¶™ ‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®</option>
                                        <option value="A+">A+</option>
                                        <option value="A-">A-</option>
                                        <option value="B+">B+</option>
                                        <option value="B-">B-</option>
                                        <option value="AB+">AB+</option>
                                        <option value="AB-">AB-</option>
                                        <option value="O+">O+</option>
                                        <option value="O-">O-</option>
                                    </select>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6 mb-3">
                                    <label for="donorPhone" class="form-label">‡¶Æ‡ßã‡¶¨‡¶æ‡¶á‡¶≤ ‡¶®‡¶Æ‡ßç‡¶¨‡¶∞ (whatsapp number)</label>
                                    <input type="tel" class="form-control" id="donorPhone" required>
                                </div>
                                <div class="col-md-6 mb-3">
                                    <label for="lastDonationDate" class="form-label">‡¶∏‡¶∞‡ßç‡¶¨‡¶∂‡ßá‡¶∑ ‡¶∞‡¶ï‡ßç‡¶§‡¶¶‡¶æ‡¶®‡ßá‡¶∞ ‡¶§‡¶æ‡¶∞‡¶ø‡¶ñ</label>
                                    <input type="date" class="form-control" id="lastDonationDate">
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6 mb-3">
                                    <label for="donorDivision" class="form-label">‡¶¨‡¶ø‡¶≠‡¶æ‡¶ó</label>
                                    <select class="form-select" id="donorDivision" required>
                                        <option value="" selected disabled>‡¶¨‡¶ø‡¶≠‡¶æ‡¶ó ‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®</option>
                                        <!-- Divisions will be populated by JavaScript -->
                                    </select>
                                </div>
                                <div class="col-md-6 mb-3">
                                    <label for="donorDistrict" class="form-label">‡¶ú‡ßá‡¶≤‡¶æ</label>
                                    <select class="form-select" id="donorDistrict" required disabled>
                                        <option value="" selected disabled>‡¶ú‡ßá‡¶≤‡¶æ ‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®</option>
                                    </select>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6 mb-3">
                                    <label for="donorUpazila" class="form-label">‡¶â‡¶™‡¶ú‡ßá‡¶≤‡¶æ</label>
                                    <select class="form-select" id="donorUpazila" required disabled>
                                        <option value="" selected disabled>‡¶â‡¶™‡¶ú‡ßá‡¶≤‡¶æ ‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®</option>
                                    </select>
                                </div>
                                <div class="col-md-6 mb-3 d-flex align-items-end">
                                    <button type="submit" class="btn btn-primary w-100">
                                        <i class="fas fa-save"></i> ‡¶∞‡¶ï‡ßç‡¶§‡¶¶‡¶æ‡¶§‡¶æ ‡¶π‡¶ø‡¶∏‡ßá‡¶¨‡ßá ‡¶®‡¶ø‡¶¨‡¶®‡ßç‡¶ß‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®
                                    </button>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>

        <!-- Blood Request Form -->
        <div class="row mb-4">
            <div class="col-12">
                <div class="card">
                    <div class="card-header">
                        <i class="fas fa-tint"></i> ‡¶∞‡¶ï‡ßç‡¶§‡ßá‡¶∞ ‡¶Ö‡¶®‡ßÅ‡¶∞‡ßã‡¶ß ‡¶´‡¶∞‡ßç‡¶Æ
                    </div>
                    <div class="card-body">
                        <form id="requestForm">
                            <div class="row">
                                <div class="col-md-6 mb-3">
                                    <label for="requestDivision" class="form-label">‡¶¨‡¶ø‡¶≠‡¶æ‡¶ó</label>
                                    <select class="form-select" id="requestDivision" required>
                                        <option value="" selected disabled>‡¶¨‡¶ø‡¶≠‡¶æ‡¶ó ‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®</option>
                                        <!-- Divisions will be populated by JavaScript -->
                                    </select>
                                </div>
                                <div class="col-md-6 mb-3">
                                    <label for="requestDistrict" class="form-label">‡¶ú‡ßá‡¶≤‡¶æ</label>
                                    <select class="form-select" id="requestDistrict" required disabled>
                                        <option value="" selected disabled>‡¶ú‡ßá‡¶≤‡¶æ ‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®</option>
                                    </select>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6 mb-3">
                                    <label for="requestUpazila" class="form-label">‡¶â‡¶™‡¶ú‡ßá‡¶≤‡¶æ</label>
                                    <select class="form-select" id="requestUpazila" required disabled>
                                        <option value="" selected disabled>‡¶â‡¶™‡¶ú‡ßá‡¶≤‡¶æ ‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®</option>
                                    </select>
                                </div>
                                <div class="col-md-6 mb-3">
                                    <label for="requestLocation" class="form-label">‡¶∞‡¶ï‡ßç‡¶§‡¶¶‡¶æ‡¶®‡ßá‡¶∞ ‡¶∏‡ßç‡¶•‡¶æ‡¶® (‡¶π‡¶æ‡¶∏‡¶™‡¶æ‡¶§‡¶æ‡¶≤/‡¶†‡¶ø‡¶ï‡¶æ‡¶®‡¶æ)</label>
                                    <input type="text" class="form-control" id="requestLocation" required>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6 mb-3">
                                    <label for="requestBloodGroup" class="form-label">‡¶∞‡¶ï‡ßç‡¶§‡ßá‡¶∞ ‡¶ó‡ßç‡¶∞‡ßÅ‡¶™</label>
                                    <select class="form-select" id="requestBloodGroup" required>
                                        <option value="" selected disabled>‡¶∞‡¶ï‡ßç‡¶§‡ßá‡¶∞ ‡¶ó‡ßç‡¶∞‡ßÅ‡¶™ ‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®</option>
                                        <option value="A+">A+</option>
                                        <option value="A-">A-</option>
                                        <option value="B+">B+</option>
                                        <option value="B-">B-</option>
                                        <option value="AB+">AB+</option>
                                        <option value="AB-">AB-</option>
                                        <option value="O+">O+</option>
                                        <option value="O-">O-</option>
                                    </select>
                                </div>
                                <div class="col-md-6 mb-3">
                                    <label for="bloodAmount" class="form-label">‡¶∞‡¶ï‡ßç‡¶§‡ßá‡¶∞ ‡¶™‡¶∞‡¶ø‡¶Æ‡¶æ‡¶£ (‡¶¨‡ßç‡¶Ø‡¶æ‡¶ó)</label>
                                    <input type="number" class="form-control" id="bloodAmount" min="1" value="1" required>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6 mb-3">
                                    <label for="requesterPhone" class="form-label">‡¶Ø‡ßã‡¶ó‡¶æ‡¶Ø‡ßã‡¶ó ‡¶®‡¶Æ‡ßç‡¶¨‡¶∞ (whatsapp number)</label>
                                    <input type="tel" class="form-control" id="requesterPhone" required>
                                </div>
                                <div class="col-md-6 mb-3">
                                    <label for="requiredDateTime" class="form-label">‡¶™‡ßç‡¶∞‡¶Ø‡¶º‡ßã‡¶ú‡¶®‡ßÄ‡¶Ø‡¶º ‡¶§‡¶æ‡¶∞‡¶ø‡¶ñ ‡¶ì ‡¶∏‡¶Æ‡¶Ø‡¶º</label>
                                    <input type="datetime-local" class="form-control" id="requiredDateTime" required>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-12">
                                    <button type="submit" class="btn btn-primary w-100">
                                        <i class="fas fa-bell"></i> ‡¶∞‡¶ï‡ßç‡¶§‡ßá‡¶∞ ‡¶Ö‡¶®‡ßÅ‡¶∞‡ßã‡¶ß ‡¶™‡¶æ‡¶†‡¶æ‡¶® ‡¶è‡¶¨‡¶Ç WhatsApp SMS ‡¶è‡¶∞ ‡¶Æ‡¶æ‡¶ß‡ßç‡¶Ø‡¶Æ‡ßá ‡¶∞‡¶ï‡ßç‡¶§‡ßá‡¶∞ ‡¶Ö‡¶®‡ßÅ‡¶∞‡ßã‡¶ß ‡¶®‡¶ø‡¶∂‡ßç‡¶ö‡¶ø‡¶§ ‡¶ï‡¶∞‡ßá‡¶®
                                    </button>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>

        <!-- Donor Search Section -->
        <div class="row mb-4">
            <div class="col-12">
                <div class="card">
                    <div class="card-header">
                        <i class="fas fa-search"></i> ‡¶∏‡¶π‡¶ú‡ßá‡¶á ‡¶ñ‡ßÅ‡¶Å‡¶ú‡ßÅ‡¶® ‡¶â‡¶™‡¶Ø‡ßÅ‡¶ï‡ßç‡¶§ ‡¶∞‡¶ï‡ßç‡¶§‡¶¶‡¶æ‡¶§‡¶æ - ‡¶¨‡¶ø‡¶≠‡¶æ‡¶ó, ‡¶ú‡ßá‡¶≤‡¶æ ‡¶ì ‡¶∞‡¶ï‡ßç‡¶§‡ßá‡¶∞ ‡¶ó‡ßç‡¶∞‡ßÅ‡¶™ ‡¶∏‡¶ø‡¶≤‡ßá‡¶ï‡ßç‡¶ü ‡¶ï‡¶∞‡ßá ‡¶∏‡¶†‡¶ø‡¶ï‡¶≠‡¶æ‡¶¨‡ßá ‡¶∏‡¶æ‡¶∞‡ßç‡¶ö ‡¶ï‡¶∞‡ßÅ‡¶®!
                    </div>
                    <div class="card-body">
                        <form id="searchForm">
                            <div class="row">
                                <div class="col-md-4 mb-3">
                                    <label for="searchDivision" class="form-label">‡¶¨‡¶ø‡¶≠‡¶æ‡¶ó</label>
                                    <select class="form-select" id="searchDivision">
                                        <option value="" selected>‡¶∏‡¶ï‡¶≤ ‡¶¨‡¶ø‡¶≠‡¶æ‡¶ó</option>
                                        <!-- Divisions will be populated by JavaScript -->
                                    </select>
                                </div>
                                <div class="col-md-4 mb-3">
                                    <label for="searchDistrict" class="form-label">‡¶ú‡ßá‡¶≤‡¶æ</label>
                                    <select class="form-select" id="searchDistrict" disabled>
                                        <option value="" selected>‡¶∏‡¶ï‡¶≤ ‡¶ú‡ßá‡¶≤‡¶æ</option>
                                    </select>
                                </div>
                                <div class="col-md-4 mb-3">
                                    <label for="searchBloodGroup" class="form-label">‡¶∞‡¶ï‡ßç‡¶§‡ßá‡¶∞ ‡¶ó‡ßç‡¶∞‡ßÅ‡¶™</label>
                                    <select class="form-select" id="searchBloodGroup">
                                        <option value="" selected>‡¶∏‡¶ï‡¶≤ ‡¶∞‡¶ï‡ßç‡¶§‡ßá‡¶∞ ‡¶ó‡ßç‡¶∞‡ßÅ‡¶™</option>
                                        <option value="A+">A+</option>
                                        <option value="A-">A-</option>
                                        <option value="B+">B+</option>
                                        <option value="B-">B-</option>
                                        <option value="AB+">AB+</option>
                                        <option value="AB-">AB-</option>
                                        <option value="O+">O+</option>
                                        <option value="O-">O-</option>
                                    </select>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-12">
                                    <button type="submit" class="btn btn-primary w-100">
                                        <i class="fas fa-search"></i>  ‡¶∞‡¶ï‡ßç‡¶§‡¶¶‡¶æ‡¶§‡¶æ ‡¶ñ‡ßÅ‡¶Å‡¶ú‡ßÅ‡¶®
                                    </button>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>

        <!-- Donor List Section -->
        <div class="row">
            <div class="col-12">
                <h2 class="section-title"><i class="fas fa-users feature-icon"></i>Available Donors</h2>
                <div class="loading-spinner" id="donorLoading">
                    <div class="spinner-border spinner" role="status">
                        <span class="visually-hidden">Loading...</span>
                    </div>
                    <p class="bangla-text">‡¶¶‡¶æ‡¶§‡¶æ‡¶¶‡ßá‡¶∞ ‡¶§‡¶•‡ßç‡¶Ø ‡¶≤‡ßã‡¶° ‡¶ï‡¶∞‡¶æ ‡¶π‡¶ö‡ßç‡¶õ‡ßá...</p>
                </div>
                <div class="row" id="donorList">
                    <!-- Donor cards will be populated by JavaScript -->
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="bg-dark text-white py-4 mt-4">
        <div class="container">
            <div class="row">
                <div class="col-md-6">
                    <h5>‡¶∞‡¶ï‡ßç‡¶§‡¶ú‡¶¨‡¶æ ‡¶´‡¶æ‡¶â‡¶®‡ßç‡¶°‡ßá‡¶∂‡¶®</h5>
                    <p class="bangla-text">‡¶è‡¶ï‡¶ü‡¶ø ‡¶Ö‡¶∞‡¶æ‡¶ú‡¶®‡ßà‡¶§‡¶ø‡¶ï,‡¶Æ‡¶æ‡¶®‡¶¨‡¶ø‡¶ï, ‡¶∏‡¶æ‡¶Æ‡¶æ‡¶ú‡¶ø‡¶ï ‡¶ì ‡¶∏‡ßç‡¶¨‡ßá‡¶ö‡ßç‡¶õ‡¶æ‡¶∏‡ßá‡¶¨‡ßÄ ‡¶∏‡¶Ç‡¶ó‡¶†‡¶®</p>
                    <p><i class="fas fa-phone-alt"></i> ‡ß¶‡ßß‡ß¨‡ß¶‡ß¨‡ßØ‡ß¨‡ß™‡ß´‡ß´‡ß¶</p>
                </div>
                <div class="col-md-6 text-md-end">
                    <button class="btn btn-outline-light me-2" data-bs-toggle="modal" data-bs-target="#updateDonationModal">
                        <i class="fas fa-calendar-alt"></i> ‡¶∞‡¶ï‡ßç‡¶§‡¶¶‡¶æ‡¶®‡ßá‡¶∞ ‡¶§‡¶æ‡¶∞‡¶ø‡¶ñ ‡¶Ü‡¶™‡¶°‡ßá‡¶ü
                    </button>
                    <a href="#" class="btn btn-outline-light me-2" data-bs-toggle="modal" data-bs-target="#aboutModal">
                        <i class="fas fa-info-circle"></i> ‡¶Ü‡¶Æ‡¶æ‡¶¶‡ßá‡¶∞ ‡¶∏‡¶Æ‡ßç‡¶™‡¶∞‡ßç‡¶ï‡ßá
                    </a>
                    <a href="#" class="btn btn-outline-light" data-bs-toggle="modal" data-bs-target="#contactModal">
                        <i class="fas fa-envelope"></i> ‡¶Ø‡ßã‡¶ó‡¶æ‡¶Ø‡ßã‡¶ó
                    </a>
                </div>
            </div>
            <div class="row mt-3">
                <div class="col-12 text-center">
                    <p class="bangla-text">&copy; Roktojoba Foundation. All rights reserved ‡•§ Powered by Roktojoba Foundation ‡•§ Developer MD Tasrik Hossain</p>
                </div>
            </div>
        </div>
    </footer>

    <!-- About Modal -->
    <div class="modal fade" id="aboutModal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header bg-primary text-white">
                    <h5 class="modal-title">‡¶Ü‡¶Æ‡¶æ‡¶¶‡ßá‡¶∞ ‡¶∏‡¶Æ‡ßç‡¶™‡¶∞‡ßç‡¶ï‡ßá</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <p class="bangla-text">‡¶∞‡¶ï‡ßç‡¶§‡¶ú‡¶¨‡¶æ ‡¶´‡¶æ‡¶â‡¶®‡ßç‡¶°‡ßá‡¶∂‡¶® ‡¶è‡¶ï‡¶ü‡¶ø ‡¶Ö‡¶∞‡¶æ‡¶ú‡¶®‡ßà‡¶§‡¶ø‡¶ï,‡¶Æ‡¶æ‡¶®‡¶¨‡¶ø‡¶ï, ‡¶∏‡¶æ‡¶Æ‡¶æ‡¶ú‡¶ø‡¶ï ‡¶ì ‡¶∏‡ßç‡¶¨‡ßá‡¶ö‡ßç‡¶õ‡¶æ‡¶∏‡ßá‡¶¨‡ßÄ ‡¶∏‡¶Ç‡¶ó‡¶†‡¶®‡•§ ‡¶Ü‡¶Æ‡¶æ‡¶¶‡ßá‡¶∞ ‡¶≤‡¶ï‡ßç‡¶∑‡ßç‡¶Ø ‡¶∞‡¶ï‡ßç‡¶§‡¶¶‡¶æ‡¶§‡¶æ ‡¶ì ‡¶∞‡¶ï‡ßç‡¶§‡¶™‡ßç‡¶∞‡¶æ‡¶∞‡ßç‡¶•‡ßÄ‡¶¶‡ßá‡¶∞ ‡¶Æ‡¶ß‡ßç‡¶Ø‡ßá ‡¶è‡¶ï‡¶ü‡¶ø ‡¶∏‡ßá‡¶§‡ßÅ‡¶¨‡¶®‡ßç‡¶ß‡¶® ‡¶§‡ßà‡¶∞‡¶ø ‡¶ï‡¶∞‡¶æ ‡¶è‡¶¨‡¶Ç ‡¶∏‡¶Æ‡¶Ø‡¶º‡¶Æ‡¶§‡ßã ‡¶∞‡¶ï‡ßç‡¶§‡ßá‡¶∞ ‡¶Ø‡ßã‡¶ó‡¶æ‡¶® ‡¶®‡¶ø‡¶∂‡ßç‡¶ö‡¶ø‡¶§ ‡¶ï‡¶∞‡¶æ‡•§</p>
                    <p class="bangla-text">‡¶Ü‡¶Æ‡¶∞‡¶æ ‡ß®‡ß¶‡ß®‡ß™ ‡¶∏‡¶æ‡¶≤ ‡¶•‡ßá‡¶ï‡ßá ‡¶ï‡¶æ‡¶ú ‡¶ï‡¶∞‡ßá ‡¶Ü‡¶∏‡¶õ‡¶ø ‡¶è‡¶¨‡¶Ç ‡¶á‡¶§‡¶ø‡¶Æ‡¶ß‡ßç‡¶Ø‡ßá ‡¶π‡¶æ‡¶ú‡¶æ‡¶∞‡ßã ‡¶Æ‡¶æ‡¶®‡ßÅ‡¶∑‡ßá‡¶∞ ‡¶ú‡ßÄ‡¶¨‡¶® ‡¶¨‡¶æ‡¶Å‡¶ö‡¶æ‡¶§‡ßá ‡¶∏‡¶æ‡¶π‡¶æ‡¶Ø‡ßç‡¶Ø ‡¶ï‡¶∞‡ßá‡¶õ‡¶ø‡•§</p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">‡¶¨‡¶®‡ßç‡¶ß ‡¶ï‡¶∞‡ßÅ‡¶®</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Contact Modal -->
    <div class="modal fade" id="contactModal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header bg-primary text-white">
                    <h5 class="modal-title">‡¶Ø‡ßã‡¶ó‡¶æ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡ßÅ‡¶®</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <p><i class="fas fa-phone-alt"></i> ‡¶´‡ßã‡¶®: ‡ß¶‡ßß‡ß¨‡ß¶‡ß¨‡ßØ‡ß¨‡ß™‡ß´‡ß´‡ß¶, ‡ß¶‡ßß‡ßØ‡ß¨‡ß¶‡ß´‡ß¶‡ß¨‡ß¨‡ß¶‡ßß</p>
                    <p><i class="fas fa-envelope"></i> ‡¶á‡¶Æ‡ßá‡¶á‡¶≤: roktojobafoundation@gmail.com</p>
                    <p><i class="fas fa-map-marker-alt"></i> ‡¶†‡¶ø‡¶ï‡¶æ‡¶®‡¶æ: ‡¶Æ‡¶§‡¶≤‡¶¨, ‡¶ö‡¶æ‡¶Å‡¶¶‡¶™‡ßÅ‡¶∞, ‡¶ö‡¶ü‡ßç‡¶ü‡¶ó‡ßç‡¶∞‡¶æ‡¶Æ, ‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ‡¶¶‡ßá‡¶∂</p>
                    <div class="d-flex mt-3">
                        <a href="https://www.facebook.com/groups/795181972688739/?ref=share&mibextid=NSMWBT" class="btn btn-primary me-2"><i class="fab fa-facebook-f"></i></a>
                        <a href="https://x.com/roktojoba8?t=GuWQ8An2FrBkG4DosGTMIA&s=09" class="btn btn-info me-2"><i class="fab fa-twitter"></i></a>
                        <a href="https://chat.whatsapp.com/DG9k42tUOazB11jl39JUwg" class="btn whatsapp-btn"><i class="fab fa-whatsapp"></i></a>
                        <a href="https://t.me/roktojoba24" class="btn telegram-btn"><i class="fab fa-telegram"></i></a>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">‡¶¨‡¶®‡ßç‡¶ß ‡¶ï‡¶∞‡ßÅ‡¶®</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal for Success Message -->
    <div class="modal fade" id="successModal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header bg-success text-white">
                    <h5 class="modal-title">‡¶∏‡¶´‡¶≤!</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body" id="successMessage">
                    ‡¶Ö‡¶™‡¶æ‡¶∞‡ßá‡¶∂‡¶® ‡¶∏‡¶´‡¶≤‡¶≠‡¶æ‡¶¨‡ßá ‡¶∏‡¶Æ‡ßç‡¶™‡¶®‡ßç‡¶® ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá‡•§
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">‡¶¨‡¶®‡ßç‡¶ß ‡¶ï‡¶∞‡ßÅ‡¶®</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal for Error Message -->
    <div class="modal fade" id="errorModal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header bg-danger text-white">
                    <h5 class="modal-title">‡¶§‡ßç‡¶∞‡ßÅ‡¶ü‡¶ø!</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body" id="errorMessage">
                    ‡¶è‡¶ï‡¶ü‡¶ø ‡¶§‡ßç‡¶∞‡ßÅ‡¶ü‡¶ø ‡¶ò‡¶ü‡ßá‡¶õ‡ßá‡•§
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">‡¶¨‡¶®‡ßç‡¶ß ‡¶ï‡¶∞‡ßÅ‡¶®</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Update Donation Modal -->
    <div class="modal fade" id="updateDonationModal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header bg-primary text-white">
                    <h5 class="modal-title">‡¶∏‡¶∞‡ßç‡¶¨‡¶∂‡ßá‡¶∑ ‡¶∞‡¶ï‡ßç‡¶§‡¶¶‡¶æ‡¶®‡ßá‡¶∞ ‡¶§‡¶æ‡¶∞‡¶ø‡¶ñ ‡¶Ü‡¶™‡¶°‡ßá‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="updateDonationForm">
                        <div class="mb-3">
                            <label for="updatePhone" class="form-label">‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶Æ‡ßã‡¶¨‡¶æ‡¶á‡¶≤ ‡¶®‡¶Æ‡ßç‡¶¨‡¶∞</label>
                            <input type="tel" class="form-control" id="updatePhone" required placeholder="01XXXXXXXXX">
                        </div>
                        <div class="mb-3">
                            <label for="updateDonationDate" class="form-label">‡¶∏‡¶∞‡ßç‡¶¨‡¶∂‡ßá‡¶∑ ‡¶∞‡¶ï‡ßç‡¶§‡¶¶‡¶æ‡¶®‡ßá‡¶∞ ‡¶§‡¶æ‡¶∞‡¶ø‡¶ñ</label>
                            <input type="date" class="form-control" id="updateDonationDate" required>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">‡¶¨‡¶®‡ßç‡¶ß ‡¶ï‡¶∞‡ßÅ‡¶®</button>
                    <button type="button" class="btn btn-primary" id="updateDonationBtn">
                        <i class="fas fa-save"></i> ‡¶Ü‡¶™‡¶°‡ßá‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script type="module">
        // Import the functions you need from the SDKs you need
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
        import { getFirestore, collection, addDoc, getDocs, where, query, updateDoc, doc } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";
        import { getAuth } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js";
        import { getMessaging, getToken, onMessage } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-messaging.js";

        // Your web app's Firebase configuration
        const firebaseConfig = {
            apiKey: "AIzaSyBSgyeYCbyB8cMFdqMcNtDZeL4aM-_FfQ4",
            authDomain: "rjf-blood-connect.firebaseapp.com",
            databaseURL: "https://rjf-blood-connect-default-rtdb.asia-southeast1.firebasedatabase.app",
            projectId: "rjf-blood-connect",
            storageBucket: "rjf-blood-connect.firebasestorage.app",
            messagingSenderId: "536870508483",
            appId: "1:536870508483:web:1ce2211ec28f79ce514f76",
            measurementId: "G-34RDD8GL9C"
        };

        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);
        const auth = getAuth(app);
        const messaging = getMessaging(app);

        // Bangladesh administrative data
        const bangladeshData = {
            divisions: [
                {
                    name: "‡¶¢‡¶æ‡¶ï‡¶æ",
                    districts: [
                        {
                            name: "‡¶¢‡¶æ‡¶ï‡¶æ",
                            upazilas: ["‡¶ß‡¶æ‡¶Æ‡¶∞‡¶æ‡¶á", "‡¶¶‡ßã‡¶π‡¶æ‡¶∞", "‡¶ï‡ßá‡¶∞‡¶æ‡¶®‡ßÄ‡¶ó‡¶û‡ßç‡¶ú", "‡¶®‡¶¨‡¶æ‡¶¨‡¶ó‡¶û‡ßç‡¶ú", "‡¶∏‡¶æ‡¶≠‡¶æ‡¶∞"]
                        },
                        {
                            name: "‡¶´‡¶∞‡¶ø‡¶¶‡¶™‡ßÅ‡¶∞",
                            upazilas: ["‡¶Ü‡¶≤‡¶´‡¶æ‡¶°‡¶æ‡¶ô‡ßç‡¶ó‡¶æ", "‡¶≠‡¶æ‡¶ô‡ßç‡¶ó‡¶æ", "‡¶¨‡ßã‡ßü‡¶æ‡¶≤‡¶Æ‡¶æ‡¶∞‡ßÄ", "‡¶ö‡¶∞‡¶≠‡¶¶‡ßç‡¶∞‡¶æ‡¶∏‡¶®", "‡¶´‡¶∞‡¶ø‡¶¶‡¶™‡ßÅ‡¶∞ ‡¶∏‡¶¶‡¶∞", "‡¶Æ‡¶ß‡ßÅ‡¶ñ‡¶æ‡¶≤‡ßÄ", "‡¶®‡¶ó‡¶∞‡¶ï‡¶æ‡¶®‡ßç‡¶¶‡¶æ", "‡¶∏‡¶¶‡¶∞‡¶™‡ßÅ‡¶∞", "‡¶∏‡¶æ‡¶≤‡¶•‡¶æ"]
                        },
                        {
                            name: "‡¶ó‡¶æ‡¶ú‡ßÄ‡¶™‡ßÅ‡¶∞",
                            upazilas: ["‡¶ó‡¶æ‡¶ú‡ßÄ‡¶™‡ßÅ‡¶∞ ‡¶∏‡¶¶‡¶∞", "‡¶ï‡¶æ‡¶≤‡¶ø‡ßü‡¶æ‡¶ï‡ßà‡¶∞", "‡¶ï‡¶æ‡¶™‡¶æ‡¶∏‡¶ø‡ßü‡¶æ", "‡¶∂‡ßç‡¶∞‡ßÄ‡¶™‡ßÅ‡¶∞", "‡¶ï‡¶æ‡¶≤‡ßÄ‡¶ó‡¶û‡ßç‡¶ú"]
                        },
                        {
                            name: "‡¶ó‡ßã‡¶™‡¶æ‡¶≤‡¶ó‡¶û‡ßç‡¶ú",
                            upazilas: ["‡¶ó‡ßã‡¶™‡¶æ‡¶≤‡¶ó‡¶û‡ßç‡¶ú ‡¶∏‡¶¶‡¶∞", "‡¶ï‡¶æ‡¶∂‡¶ø‡ßü‡¶æ‡¶®‡¶ø", "‡¶ï‡ßã‡¶ü‡¶æ‡¶≤‡ßÄ‡¶™‡¶æ‡ßú‡¶æ", "‡¶Æ‡ßÅ‡¶ï‡¶∏‡ßÅ‡¶¶‡¶™‡ßÅ‡¶∞", "‡¶ü‡ßÅ‡¶Ç‡¶ó‡ßÄ‡¶™‡¶æ‡ßú‡¶æ"]
                        },
                        {
                            name: "‡¶ï‡¶ø‡¶∂‡ßã‡¶∞‡¶ó‡¶û‡ßç‡¶ú",
                            upazilas: ["‡¶Ö‡¶∑‡ßç‡¶ü‡¶ó‡ßç‡¶∞‡¶æ‡¶Æ", "‡¶¨‡¶æ‡¶ú‡¶ø‡¶§‡¶™‡ßÅ‡¶∞", "‡¶≠‡ßà‡¶∞‡¶¨", "‡¶π‡ßã‡¶∏‡ßá‡¶®‡¶™‡ßÅ‡¶∞", "‡¶á‡¶ü‡¶®‡¶æ", "‡¶ï‡¶∞‡¶ø‡¶Æ‡¶ó‡¶û‡ßç‡¶ú", "‡¶ï‡¶ü‡¶ø‡ßü‡¶æ‡¶¶‡ßÄ", "‡¶ï‡¶ø‡¶∂‡ßã‡¶∞‡¶ó‡¶û‡ßç‡¶ú ‡¶∏‡¶¶‡¶∞", "‡¶ï‡ßÅ‡¶≤‡¶ø‡ßü‡¶æ‡¶∞‡¶ö‡¶∞", "‡¶Æ‡¶ø‡¶†‡¶æ‡¶Æ‡¶á‡¶®", "‡¶®‡¶ø‡¶ï‡¶≤‡ßÄ", "‡¶™‡¶æ‡¶ï‡ßÅ‡¶®‡ßç‡¶¶‡¶ø‡ßü‡¶æ", "‡¶§‡¶æ‡ßú‡¶æ‡¶á‡¶≤"]
                        },
                        {
                            name: "‡¶Æ‡¶æ‡¶¶‡¶æ‡¶∞‡ßÄ‡¶™‡ßÅ‡¶∞",
                            upazilas: ["‡¶ï‡¶æ‡¶≤‡¶ï‡¶ø‡¶®‡¶ø", "‡¶Æ‡¶æ‡¶¶‡¶æ‡¶∞‡ßÄ‡¶™‡ßÅ‡¶∞ ‡¶∏‡¶¶‡¶∞", "‡¶∞‡¶æ‡¶ú‡ßà‡¶∞", "‡¶∂‡¶ø‡¶¨‡¶ö‡¶∞"]
                        },
                        {
                            name: "‡¶Æ‡¶æ‡¶®‡¶ø‡¶ï‡¶ó‡¶û‡ßç‡¶ú",
                            upazilas: ["‡¶¶‡ßå‡¶≤‡¶§‡¶™‡ßÅ‡¶∞", "‡¶ò‡¶ø‡¶ì‡¶∞", "‡¶π‡¶∞‡¶ø‡¶∞‡¶æ‡¶Æ‡¶™‡ßÅ‡¶∞", "‡¶Æ‡¶æ‡¶®‡¶ø‡¶ï‡¶ó‡¶û‡ßç‡¶ú ‡¶∏‡¶¶‡¶∞", "‡¶∏‡¶æ‡¶ü‡ßÅ‡¶∞‡¶ø‡ßü‡¶æ", "‡¶∂‡¶ø‡¶¨‡¶æ‡¶≤‡ßü", "‡¶∏‡¶ø‡¶Ç‡¶ó‡¶æ‡¶á‡¶∞"]
                        },
                        {
                            name: "‡¶Æ‡ßÅ‡¶®‡ßç‡¶∏‡¶ø‡¶ó‡¶û‡ßç‡¶ú",
                            upazilas: ["‡¶ó‡¶ú‡¶æ‡¶∞‡¶ø‡ßü‡¶æ", "‡¶≤‡ßå‡¶π‡¶ú‡¶Ç", "‡¶Æ‡ßÅ‡¶®‡ßç‡¶∏‡¶ø‡¶ó‡¶û‡ßç‡¶ú ‡¶∏‡¶¶‡¶∞", "‡¶∏‡¶ø‡¶∞‡¶æ‡¶ú‡¶¶‡¶ø‡¶ñ‡¶æ‡¶®", "‡¶∂‡ßç‡¶∞‡ßÄ‡¶®‡¶ó‡¶∞", "‡¶ü‡¶ô‡ßç‡¶ó‡ßÄ‡¶¨‡¶æ‡ßú‡¶ø"]
                        },
                        {
                            name: "‡¶®‡¶æ‡¶∞‡¶æ‡ßü‡¶£‡¶ó‡¶û‡ßç‡¶ú",
                            upazilas: ["‡¶Ü‡ßú‡¶æ‡¶á‡¶π‡¶æ‡¶ú‡¶æ‡¶∞", "‡¶¨‡¶®‡ßç‡¶¶‡¶∞", "‡¶®‡¶æ‡¶∞‡¶æ‡ßü‡¶£‡¶ó‡¶û‡ßç‡¶ú ‡¶∏‡¶¶‡¶∞", "‡¶∞‡ßÇ‡¶™‡¶ó‡¶û‡ßç‡¶ú", "‡¶∏‡ßã‡¶®‡¶æ‡¶∞‡¶ó‡¶æ‡¶Å"]
                        },
                        {
                            name: "‡¶®‡¶∞‡¶∏‡¶ø‡¶Ç‡¶¶‡ßÄ",
                            upazilas: ["‡¶¨‡ßá‡¶≤‡¶æ‡¶¨‡ßã", "‡¶Æ‡¶®‡ßã‡¶π‡¶∞‡¶¶‡ßÄ", "‡¶®‡¶∞‡¶∏‡¶ø‡¶Ç‡¶¶‡ßÄ ‡¶∏‡¶¶‡¶∞", "‡¶™‡¶≤‡¶æ‡¶∂", "‡¶∞‡¶æ‡ßü‡¶™‡ßÅ‡¶∞‡¶æ", "‡¶∂‡¶ø‡¶¨‡¶™‡ßÅ‡¶∞"]
                        },
                        {
                            name: "‡¶∞‡¶æ‡¶ú‡¶¨‡¶æ‡ßú‡ßÄ",
                            upazilas: ["‡¶¨‡¶æ‡¶≤‡¶ø‡ßü‡¶æ‡¶ï‡¶æ‡¶®‡ßç‡¶¶‡¶ø", "‡¶ó‡ßã‡ßü‡¶æ‡¶≤‡¶®‡ßç‡¶¶", "‡¶™‡¶æ‡¶Ç‡¶∂‡¶æ", "‡¶∞‡¶æ‡¶ú‡¶¨‡¶æ‡ßú‡ßÄ ‡¶∏‡¶¶‡¶∞"]
                        },
                        {
                            name: "‡¶∂‡¶∞‡ßÄ‡ßü‡¶§‡¶™‡ßÅ‡¶∞",
                            upazilas: ["‡¶≠‡ßá‡¶¶‡¶∞‡¶ó‡¶û‡ßç‡¶ú", "‡¶¶‡¶æ‡¶Æ‡ßÅ‡¶¶‡ßç‡¶Ø‡¶æ", "‡¶ó‡ßã‡¶∏‡¶æ‡¶á‡¶∞‡¶π‡¶æ‡¶ü", "‡¶®‡ßú‡¶ø‡ßü‡¶æ", "‡¶∂‡¶∞‡ßÄ‡ßü‡¶§‡¶™‡ßÅ‡¶∞ ‡¶∏‡¶¶‡¶∞", "‡¶ú‡¶æ‡¶ú‡¶ø‡¶∞‡¶æ"]
                        },
                        {
                            name: "‡¶ü‡¶æ‡¶ô‡ßç‡¶ó‡¶æ‡¶á‡¶≤",
                            upazilas: ["‡¶¨‡¶æ‡¶∏‡¶æ‡¶á‡¶≤", "‡¶≠‡ßÅ‡ßü‡¶æ‡¶™‡ßÅ‡¶∞", "‡¶¶‡ßá‡¶≤‡¶¶‡ßÅ‡ßü‡¶æ‡¶∞", "‡¶ß‡¶®‡¶¨‡¶æ‡ßú‡ßÄ", "‡¶ò‡¶æ‡¶ü‡¶æ‡¶á‡¶≤", "‡¶ó‡ßã‡¶™‡¶æ‡¶≤‡¶™‡ßÅ‡¶∞", "‡¶ï‡¶æ‡¶≤‡¶ø‡¶π‡¶æ‡¶§‡ßÄ", "‡¶Æ‡¶ß‡ßÅ‡¶™‡ßÅ‡¶∞", "‡¶Æ‡¶ø‡¶∞‡ßç‡¶ú‡¶æ‡¶™‡ßÅ‡¶∞", "‡¶®‡¶æ‡¶ó‡¶∞‡¶™‡ßÅ‡¶∞", "‡¶∏‡¶ñ‡¶ø‡¶™‡ßÅ‡¶∞", "‡¶ü‡¶æ‡¶ô‡ßç‡¶ó‡¶æ‡¶á‡¶≤ ‡¶∏‡¶¶‡¶∞"]
                        }
                    ]
                },
                {
                    name: "‡¶ö‡¶ü‡ßç‡¶ü‡¶ó‡ßç‡¶∞‡¶æ‡¶Æ",
                    districts: [
                        {
                            name: "‡¶¨‡¶æ‡¶®‡ßç‡¶¶‡¶∞‡¶¨‡¶æ‡¶®",
                            upazilas: ["‡¶Ü‡¶≤‡ßÄ‡¶ï‡¶¶‡¶Æ", "‡¶¨‡¶æ‡¶®‡ßç‡¶¶‡¶∞‡¶¨‡¶æ‡¶® ‡¶∏‡¶¶‡¶∞", "‡¶≤‡¶æ‡¶Æ‡¶æ", "‡¶®‡¶æ‡¶á‡¶ï‡ßç‡¶∑‡ßç‡¶Ø‡¶Ç‡¶õ‡ßú‡¶ø", "‡¶∞‡ßã‡ßü‡¶æ‡¶Ç‡¶õ‡ßú‡¶ø", "‡¶∞‡ßÅ‡¶Æ‡¶æ", "‡¶•‡¶æ‡¶®‡¶ö‡¶ø"]
                        },
                        {
                            name: "‡¶¨‡ßç‡¶∞‡¶æ‡¶π‡ßç‡¶Æ‡¶£‡¶¨‡¶æ‡ßú‡¶ø‡ßü‡¶æ",
                            upazilas: ["‡¶Ü‡¶ñ‡¶æ‡¶â‡ßú‡¶æ", "‡¶¨‡¶æ‡¶û‡ßç‡¶õ‡¶æ‡¶∞‡¶æ‡¶Æ‡¶™‡ßÅ‡¶∞", "‡¶¨‡ßç‡¶∞‡¶æ‡¶π‡ßç‡¶Æ‡¶£‡¶¨‡¶æ‡ßú‡¶ø‡ßü‡¶æ ‡¶∏‡¶¶‡¶∞", "‡¶ï‡¶∏‡¶¨‡¶æ", "‡¶®‡¶¨‡ßÄ‡¶®‡¶ó‡¶∞", "‡¶®‡¶æ‡¶∏‡¶ø‡¶∞‡¶®‡¶ó‡¶∞", "‡¶∏‡¶∞‡¶æ‡¶á‡¶≤", "‡¶Ü‡¶∂‡ßÅ‡¶ó‡¶û‡ßç‡¶ú", "‡¶¨‡¶ø‡¶ú‡ßü‡¶®‡¶ó‡¶∞"]
                        },
                        {
                            name: "‡¶ö‡¶æ‡¶Å‡¶¶‡¶™‡ßÅ‡¶∞",
                            upazilas: ["‡¶ö‡¶æ‡¶Å‡¶¶‡¶™‡ßÅ‡¶∞ ‡¶∏‡¶¶‡¶∞", "‡¶´‡¶∞‡¶ø‡¶¶‡¶ó‡¶û‡ßç‡¶ú", "‡¶π‡¶æ‡¶á‡¶Æ‡¶ö‡¶∞", "‡¶π‡¶æ‡¶ú‡ßÄ‡¶ó‡¶û‡ßç‡¶ú", "‡¶ï‡¶ö‡ßÅ‡ßü‡¶æ", "‡¶Æ‡¶§‡¶≤‡¶¨ ‡¶¶‡¶ï‡ßç‡¶∑‡¶ø‡¶£", "‡¶Æ‡¶§‡¶≤‡¶¨ ‡¶â‡¶§‡ßç‡¶§‡¶∞", "‡¶∂‡¶æ‡¶π‡¶∞‡¶æ‡¶∏‡ßç‡¶§‡¶ø"]
                        },
                        {
                            name: "‡¶ö‡¶ü‡ßç‡¶ü‡¶ó‡ßç‡¶∞‡¶æ‡¶Æ",
                            upazilas: ["‡¶Ü‡¶®‡ßã‡ßü‡¶æ‡¶∞‡¶æ", "‡¶¨‡¶æ‡¶Å‡¶∂‡¶ñ‡¶æ‡¶≤‡ßÄ", "‡¶¨‡ßã‡ßü‡¶æ‡¶≤‡¶ñ‡¶æ‡¶≤‡ßÄ", "‡¶ö‡¶®‡ßç‡¶¶‡¶®‡¶æ‡¶á‡¶∂", "‡¶´‡¶ü‡¶ø‡¶ï‡¶õ‡ßú‡¶ø", "‡¶π‡¶æ‡¶ü‡¶π‡¶æ‡¶ú‡¶æ‡¶∞‡ßÄ", "‡¶≤‡ßã‡¶π‡¶æ‡¶ó‡¶æ‡ßú‡¶æ", "‡¶Æ‡ßÄ‡¶∞‡¶∏‡¶∞‡¶æ‡¶á", "‡¶™‡¶ü‡¶ø‡ßü‡¶æ", "‡¶∞‡¶æ‡¶ô‡ßç‡¶ó‡ßÅ‡¶®‡¶ø‡ßü‡¶æ", "‡¶∞‡¶æ‡¶â‡¶ú‡¶æ‡¶®", "‡¶∏‡¶®‡ßç‡¶¶‡ßç‡¶¨‡ßÄ‡¶™", "‡¶∏‡¶æ‡¶§‡¶ï‡¶æ‡¶®‡¶ø‡ßü‡¶æ", "‡¶∏‡ßÄ‡¶§‡¶æ‡¶ï‡ßÅ‡¶£‡ßç‡¶°"]
                        },
                        {
                            name: "‡¶ï‡ßÅ‡¶Æ‡¶ø‡¶≤‡ßç‡¶≤‡¶æ",
                            upazilas: ["‡¶¨‡¶∞‡ßÅ‡ßú‡¶æ", "‡¶¨‡ßç‡¶∞‡¶æ‡¶π‡ßç‡¶Æ‡¶£‡¶™‡¶æ‡ßú‡¶æ", "‡¶¨‡ßÅ‡ßú‡¶ø‡¶ö‡¶Ç", "‡¶ö‡¶æ‡¶®‡ßç‡¶¶‡¶ø‡¶®‡¶æ", "‡¶ö‡ßå‡¶¶‡ßç‡¶¶‡¶ó‡ßç‡¶∞‡¶æ‡¶Æ", "‡¶¶‡¶æ‡¶â‡¶¶‡¶ï‡¶æ‡¶®‡ßç‡¶¶‡¶ø", "‡¶¶‡ßá‡¶¨‡ßÄ‡¶¶‡ßç‡¶¨‡¶æ‡¶∞", "‡¶π‡ßã‡¶Æ‡¶®‡¶æ", "‡¶ï‡ßÅ‡¶Æ‡¶ø‡¶≤‡ßç‡¶≤‡¶æ ‡¶∏‡¶¶‡¶∞", "‡¶≤‡¶æ‡¶ï‡¶∏‡¶æ‡¶Æ", "‡¶Æ‡¶®‡ßã‡¶π‡¶∞‡¶ó‡¶û‡ßç‡¶ú", "‡¶Æ‡ßá‡¶ò‡¶®‡¶æ", "‡¶Æ‡ßÅ‡¶∞‡¶æ‡¶¶‡¶®‡¶ó‡¶∞", "‡¶®‡¶æ‡¶ô‡ßç‡¶ó‡¶≤‡¶ï‡ßã‡¶ü", "‡¶ï‡ßÅ‡¶Æ‡¶ø‡¶≤‡ßç‡¶≤‡¶æ ‡¶Ü‡¶¶‡¶∞‡ßç‡¶∂ ‡¶∏‡¶¶‡¶∞", "‡¶§‡¶ø‡¶§‡¶æ‡¶∏"]
                        },
                        {
                            name: "‡¶ï‡¶ï‡ßç‡¶∏‡¶¨‡¶æ‡¶ú‡¶æ‡¶∞",
                            upazilas: ["‡¶ö‡¶ï‡¶∞‡¶ø‡ßü‡¶æ", "‡¶ï‡¶ï‡ßç‡¶∏‡¶¨‡¶æ‡¶ú‡¶æ‡¶∞ ‡¶∏‡¶¶‡¶∞", "‡¶ï‡ßÅ‡¶§‡ßÅ‡¶¨‡¶¶‡¶ø‡ßü‡¶æ", "‡¶Æ‡¶π‡ßá‡¶∂‡¶ñ‡¶æ‡¶≤‡ßÄ", "‡¶∞‡¶æ‡¶Æ‡ßÅ", "‡¶ü‡ßá‡¶ï‡¶®‡¶æ‡¶´", "‡¶â‡¶ñ‡¶ø‡ßü‡¶æ", "‡¶™‡ßá‡¶ï‡ßÅ‡ßü‡¶æ"]
                        },
                        {
                            name: "‡¶´‡ßá‡¶®‡ßÄ",
                            upazilas: ["‡¶õ‡¶æ‡¶ó‡¶≤‡¶®‡¶æ‡¶á‡ßü‡¶æ", "‡¶¶‡¶æ‡¶ó‡¶®‡¶≠‡ßÇ‡¶û‡¶æ", "‡¶´‡ßá‡¶®‡ßÄ ‡¶∏‡¶¶‡¶∞", "‡¶™‡¶∞‡¶∂‡ßÅ‡¶∞‡¶æ‡¶Æ", "‡¶∏‡ßã‡¶®‡¶æ‡¶ó‡¶æ‡¶ú‡ßÄ", "‡¶´‡ßÅ‡¶≤‡¶ó‡¶æ‡¶ú‡ßÄ"]
                        },
                        {
                            name: "‡¶ñ‡¶æ‡¶ó‡ßú‡¶æ‡¶õ‡ßú‡¶ø",
                            upazilas: ["‡¶¶‡¶ø‡¶ò‡ßÄ‡¶®‡¶æ‡¶≤‡¶æ", "‡¶ñ‡¶æ‡¶ó‡ßú‡¶æ‡¶õ‡ßú‡¶ø ‡¶∏‡¶¶‡¶∞", "‡¶≤‡¶ï‡ßç‡¶∑‡ßç‡¶Æ‡ßÄ‡¶õ‡ßú‡¶ø", "‡¶Æ‡¶π‡¶æ‡¶≤‡¶õ‡ßú‡¶ø", "‡¶Æ‡¶æ‡¶®‡¶ø‡¶ï‡¶õ‡ßú‡¶ø", "‡¶Æ‡¶æ‡¶ü‡¶ø‡¶∞‡¶æ‡¶ô‡ßç‡¶ó‡¶æ", "‡¶™‡¶æ‡¶®‡¶õ‡ßú‡¶ø", "‡¶∞‡¶æ‡¶Æ‡¶ó‡ßú"]
                        },
                        {
                            name: "‡¶≤‡¶ï‡ßç‡¶∑‡ßç‡¶Æ‡ßÄ‡¶™‡ßÅ‡¶∞",
                            upazilas: ["‡¶≤‡¶ï‡ßç‡¶∑‡ßç‡¶Æ‡ßÄ‡¶™‡ßÅ‡¶∞ ‡¶∏‡¶¶‡¶∞", "‡¶∞‡¶æ‡ßü‡¶™‡ßÅ‡¶∞", "‡¶∞‡¶æ‡¶Æ‡¶ó‡¶û‡ßç‡¶ú", "‡¶∞‡¶æ‡¶Æ‡¶ó‡¶§‡¶ø", "‡¶ï‡¶Æ‡¶≤‡¶®‡¶ó‡¶∞"]
                        },
                        {
                            name: "‡¶®‡ßã‡ßü‡¶æ‡¶ñ‡¶æ‡¶≤‡ßÄ",
                            upazilas: ["‡¶¨‡ßá‡¶ó‡¶Æ‡¶ó‡¶û‡ßç‡¶ú", "‡¶ö‡¶æ‡¶ü‡¶ñ‡¶ø‡¶≤", "‡¶ï‡ßã‡¶Æ‡ßç‡¶™‡¶æ‡¶®‡ßÄ‡¶ó‡¶û‡ßç‡¶ú", "‡¶π‡¶æ‡¶§‡¶ø‡ßü‡¶æ", "‡¶∏‡ßá‡¶®‡¶¨‡¶æ‡¶ó", "‡¶®‡ßã‡ßü‡¶æ‡¶ñ‡¶æ‡¶≤‡ßÄ ‡¶∏‡¶¶‡¶∞", "‡¶∏‡ßã‡¶®‡¶æ‡¶á‡¶Æ‡ßÅ‡ßú‡¶ø", "‡¶∏‡ßÅ‡¶¨‡¶∞‡ßç‡¶£‡¶ö‡¶∞", "‡¶ï‡¶¨‡¶ø‡¶∞‡¶π‡¶æ‡¶ü"]
                        },
                        {
                            name: "‡¶∞‡¶æ‡¶ô‡ßç‡¶ó‡¶æ‡¶Æ‡¶æ‡¶ü‡¶ø",
                            upazilas: ["‡¶¨‡¶æ‡¶ò‡¶æ‡¶á‡¶õ‡ßú‡¶ø", "‡¶¨‡¶∞‡¶ï‡¶≤", "‡¶ï‡¶æ‡¶â‡¶ñ‡¶æ‡¶≤‡ßÄ", "‡¶¨‡¶ø‡¶≤‡¶æ‡¶á‡¶õ‡ßú‡¶ø", "‡¶ï‡¶æ‡¶™‡ßç‡¶§‡¶æ‡¶á", "‡¶ú‡ßÅ‡¶∞‡¶æ‡¶õ‡ßú‡¶ø", "‡¶≤‡¶Ç‡¶ó‡¶¶‡ßÅ", "‡¶®‡¶æ‡¶®‡¶ø‡ßü‡¶æ‡¶∞‡¶ö‡¶∞", "‡¶∞‡¶æ‡¶ú‡¶∏‡ßç‡¶•‡¶≤‡ßÄ", "‡¶∞‡¶æ‡¶ô‡ßç‡¶ó‡¶æ‡¶Æ‡¶æ‡¶ü‡¶ø ‡¶∏‡¶¶‡¶∞"]
                        }
                    ]
                },
                {
                    name: "‡¶∏‡¶ø‡¶≤‡ßá‡¶ü",
                    districts: [
                        {
                            name: "‡¶π‡¶¨‡¶ø‡¶ó‡¶û‡ßç‡¶ú",
                            upazilas: ["‡¶Ü‡¶ú‡¶Æ‡¶ø‡¶∞‡ßÄ‡¶ó‡¶û‡ßç‡¶ú", "‡¶¨‡¶æ‡¶π‡ßÅ‡¶¨‡¶≤", "‡¶¨‡¶æ‡¶®‡¶ø‡ßü‡¶æ‡¶ö‡¶Ç", "‡¶ö‡ßÅ‡¶®‡¶æ‡¶∞‡ßÅ‡¶ò‡¶æ‡¶ü", "‡¶π‡¶¨‡¶ø‡¶ó‡¶û‡ßç‡¶ú ‡¶∏‡¶¶‡¶∞", "‡¶≤‡¶æ‡¶ñ‡¶æ‡¶á", "‡¶Æ‡¶æ‡¶ß‡¶¨‡¶™‡ßÅ‡¶∞", "‡¶®‡¶¨‡ßÄ‡¶ó‡¶û‡ßç‡¶ú", "‡¶∂‡¶æ‡ßü‡ßá‡¶∏‡ßç‡¶§‡¶æ‡¶ó‡¶û‡ßç‡¶ú"]
                        },
                        {
                            name: "‡¶Æ‡ßå‡¶≤‡¶≠‡ßÄ‡¶¨‡¶æ‡¶ú‡¶æ‡¶∞",
                            upazilas: ["‡¶¨‡ßú‡¶≤‡ßá‡¶ñ‡¶æ", "‡¶ú‡ßÅ‡ßú‡ßÄ", "‡¶ï‡¶Æ‡¶≤‡¶ó‡¶û‡ßç‡¶ú", "‡¶ï‡ßÅ‡¶≤‡¶æ‡¶â‡ßú‡¶æ", "‡¶Æ‡ßå‡¶≤‡¶≠‡ßÄ‡¶¨‡¶æ‡¶ú‡¶æ‡¶∞ ‡¶∏‡¶¶‡¶∞", "‡¶∞‡¶æ‡¶ú‡¶®‡¶ó‡¶∞", "‡¶∂‡ßç‡¶∞‡ßÄ‡¶Æ‡¶ô‡ßç‡¶ó‡¶≤"]
                        },
                        {
                            name: "‡¶∏‡ßÅ‡¶®‡¶æ‡¶Æ‡¶ó‡¶û‡ßç‡¶ú",
                            upazilas: ["‡¶¨‡¶ø‡¶∂‡ßç‡¶¨‡¶Æ‡ßç‡¶≠‡¶∞‡¶™‡ßÅ‡¶∞", "‡¶õ‡¶æ‡¶§‡¶ï", "‡¶¶‡¶ø‡¶∞‡¶æ‡¶á", "‡¶ß‡¶∞‡ßç‡¶Æ‡¶™‡¶æ‡¶∂‡¶æ", "‡¶¶‡ßã‡ßü‡¶æ‡¶∞‡¶æ‡¶¨‡¶æ‡¶ú‡¶æ‡¶∞", "‡¶ú‡¶ó‡¶®‡ßç‡¶®‡¶æ‡¶•‡¶™‡ßÅ‡¶∞", "‡¶ú‡¶æ‡¶Æ‡¶æ‡¶≤‡¶ó‡¶û‡ßç‡¶ú", "‡¶∏‡ßÅ‡¶≤‡ßç‡¶≤‡¶æ", "‡¶∏‡ßÅ‡¶®‡¶æ‡¶Æ‡¶ó‡¶û‡ßç‡¶ú ‡¶∏‡¶¶‡¶∞", "‡¶§‡¶æ‡¶π‡¶ø‡¶∞‡¶™‡ßÅ‡¶∞"]
                        },
                        {
                            name: "‡¶∏‡¶ø‡¶≤‡ßá‡¶ü",
                            upazilas: ["‡¶¨‡¶æ‡¶≤‡¶æ‡¶ó‡¶û‡ßç‡¶ú", "‡¶¨‡¶ø‡ßü‡¶æ‡¶®‡ßÄ‡¶¨‡¶æ‡¶ú‡¶æ‡¶∞", "‡¶¨‡¶ø‡¶∂‡ßç‡¶¨‡¶®‡¶æ‡¶•", "‡¶ï‡ßã‡¶Æ‡ßç‡¶™‡¶æ‡¶®‡ßÄ‡¶ó‡¶û‡ßç‡¶ú", "‡¶´‡ßá‡¶û‡ßç‡¶ö‡ßÅ‡¶ó‡¶û‡ßç‡¶ú", "‡¶ó‡ßã‡¶≤‡¶æ‡¶™‡¶ó‡¶û‡ßç‡¶ú", "‡¶ó‡ßã‡ßü‡¶æ‡¶á‡¶®‡¶ò‡¶æ‡¶ü", "‡¶ú‡ßà‡¶®‡ßç‡¶§‡¶æ‡¶™‡ßÅ‡¶∞", "‡¶ï‡¶æ‡¶®‡¶æ‡¶á‡¶ò‡¶æ‡¶ü", "‡¶∏‡¶ø‡¶≤‡ßá‡¶ü ‡¶∏‡¶¶‡¶∞", "‡¶ú‡¶æ‡¶ï‡¶ø‡¶ó‡¶û‡ßç‡¶ú", "‡¶¶‡¶ï‡ßç‡¶∑‡¶ø‡¶£ ‡¶∏‡ßÅ‡¶∞‡¶Æ‡¶æ", "‡¶ì‡¶∏‡¶Æ‡¶æ‡¶®‡ßÄ ‡¶®‡¶ó‡¶∞"]
                        }
                    ]
                },
                {
                    name: "‡¶∞‡¶æ‡¶ú‡¶∂‡¶æ‡¶π‡ßÄ",
                    districts: [
                        {
                            name: "‡¶¨‡¶ó‡ßÅ‡ßú‡¶æ",
                            upazilas: ["‡¶Ü‡¶¶‡¶Æ‡¶¶‡ßÄ‡¶ò‡¶ø", "‡¶¨‡¶ó‡ßÅ‡ßú‡¶æ ‡¶∏‡¶¶‡¶∞", "‡¶∂‡ßá‡¶∞‡¶™‡ßÅ‡¶∞", "‡¶ß‡ßÅ‡¶®‡¶ü", "‡¶ß‡ßÅ‡¶™‡¶ö‡¶æ‡¶Å‡¶ö‡¶ø‡ßü‡¶æ", "‡¶ó‡¶æ‡¶¨‡¶§‡¶≤‡ßÄ", "‡¶ï‡¶æ‡¶π‡¶æ‡¶≤‡ßÅ", "‡¶®‡¶®‡ßç‡¶¶‡ßÄ‡¶ó‡ßç‡¶∞‡¶æ‡¶Æ", "‡¶∏‡¶æ‡¶π‡¶ú‡¶æ‡¶¶‡¶™‡ßÅ‡¶∞", "‡¶∏‡¶æ‡¶∞‡¶ø‡ßü‡¶æ‡¶ï‡¶æ‡¶®‡ßç‡¶¶‡¶ø", "‡¶∂‡¶ø‡¶¨‡¶ó‡¶û‡ßç‡¶ú", "‡¶∏‡ßã‡¶®‡¶æ‡¶§‡¶≤‡¶æ"]
                        },
                        {
                            name: "‡¶ö‡¶æ‡¶Å‡¶™‡¶æ‡¶á‡¶®‡¶¨‡¶æ‡¶¨‡¶ó‡¶û‡ßç‡¶ú",
                            upazilas: ["‡¶≠‡ßã‡¶≤‡¶æ‡¶π‡¶æ‡¶ü", "‡¶ó‡ßã‡¶Æ‡¶∏‡ßç‡¶§‡¶æ‡¶™‡ßÅ‡¶∞", "‡¶®‡¶æ‡¶ö‡ßã‡¶≤", "‡¶ö‡¶æ‡¶Å‡¶™‡¶æ‡¶á‡¶®‡¶¨‡¶æ‡¶¨‡¶ó‡¶û‡ßç‡¶ú ‡¶∏‡¶¶‡¶∞", "‡¶∂‡¶ø‡¶¨‡¶ó‡¶û‡ßç‡¶ú"]
                        },
                        {
                            name: "‡¶ú‡ßü‡¶™‡ßÅ‡¶∞‡¶π‡¶æ‡¶ü",
                            upazilas: ["‡¶Ü‡¶ï‡ßç‡¶ï‡ßá‡¶≤‡¶™‡ßÅ‡¶∞", "‡¶ú‡ßü‡¶™‡ßÅ‡¶∞‡¶π‡¶æ‡¶ü ‡¶∏‡¶¶‡¶∞", "‡¶ï‡¶æ‡¶≤‡¶æ‡¶á", "‡¶ï‡ßç‡¶∑‡ßá‡¶§‡¶≤‡¶æ‡¶≤", "‡¶™‡¶æ‡¶Å‡¶ö‡¶¨‡¶ø‡¶¨‡¶ø"]
                        },
                        {
                            name: "‡¶®‡¶ì‡¶ó‡¶æ‡¶Å",
                            upazilas: ["‡¶Ü‡¶§‡ßç‡¶∞‡¶æ‡¶á", "‡¶¨‡¶æ‡¶¶‡¶≤‡¶ó‡¶æ‡¶õ‡¶ø", "‡¶ß‡¶æ‡¶Æ‡¶á‡¶∞‡¶π‡¶æ‡¶ü", "‡¶Æ‡¶æ‡¶®‡ßç‡¶¶‡¶æ", "‡¶Æ‡¶π‡¶æ‡¶¶‡ßá‡¶¨‡¶™‡ßÅ‡¶∞", "‡¶®‡¶ì‡¶ó‡¶æ‡¶Å ‡¶∏‡¶¶‡¶∞", "‡¶®‡¶ø‡ßü‡¶æ‡¶Æ‡¶§‡¶™‡ßÅ‡¶∞", "‡¶™‡¶§‡ßç‡¶®‡ßÄ‡¶§‡¶≤‡¶æ", "‡¶™‡ßã‡¶∞‡¶∂‡¶æ", "‡¶∞‡¶æ‡¶£‡ßÄ‡¶®‡¶ó‡¶∞", "‡¶∏‡¶æ‡¶™‡¶æ‡¶π‡¶æ‡¶∞"]
                        },
                        {
                            name: "‡¶®‡¶æ‡¶ü‡ßã‡¶∞",
                            upazilas: ["‡¶¨‡¶æ‡¶ó‡¶æ‡¶§‡¶ø‡¶™‡¶æ‡ßú‡¶æ", "‡¶¨‡ßú‡¶æ‡¶á‡¶ó‡ßç‡¶∞‡¶æ‡¶Æ", "‡¶ó‡ßÅ‡¶∞‡ßÅ‡¶¶‡¶æ‡¶∏‡¶™‡ßÅ‡¶∞", "‡¶≤‡¶æ‡¶≤‡¶™‡ßÅ‡¶∞", "‡¶®‡¶æ‡¶ü‡ßã‡¶∞ ‡¶∏‡¶¶‡¶∞", "‡¶∏‡¶ø‡¶Ç‡ßú‡¶æ"]
                        },
                        {
                            name: "‡¶™‡¶æ‡¶¨‡¶®‡¶æ",
                            upazilas: ["‡¶Ü‡¶ü‡¶ò‡¶∞‡¶ø‡ßü‡¶æ", "‡¶¨‡ßá‡ßú‡¶æ", "‡¶≠‡¶æ‡¶ô‡ßç‡¶ó‡ßÅ‡ßú‡¶æ", "‡¶ö‡¶æ‡¶ü‡¶Æ‡ßã‡¶π‡¶∞", "‡¶´‡¶∞‡¶ø‡¶¶‡¶™‡ßÅ‡¶∞", "‡¶à‡¶∂‡ßç‡¶¨‡¶∞‡¶¶‡ßÄ", "‡¶™‡¶æ‡¶¨‡¶®‡¶æ ‡¶∏‡¶¶‡¶∞", "‡¶∏‡¶æ‡¶Å‡¶•‡¶ø‡ßü‡¶æ", "‡¶∏‡ßÅ‡¶ú‡¶æ‡¶®‡¶ó‡¶∞"]
                        },
                        {
                            name: "‡¶∞‡¶æ‡¶ú‡¶∂‡¶æ‡¶π‡ßÄ",
                            upazilas: ["‡¶¨‡¶æ‡¶ó‡¶Æ‡¶æ‡¶∞‡¶æ", "‡¶¨‡¶æ‡¶ó‡¶Æ‡¶æ‡¶∞‡¶æ", "‡¶ö‡¶æ‡¶∞‡¶ò‡¶æ‡¶ü", "‡¶¶‡ßÅ‡¶∞‡ßç‡¶ó‡¶æ‡¶™‡ßÅ‡¶∞", "‡¶ó‡ßã‡¶¶‡¶æ‡¶ó‡¶æ‡ßú‡ßÄ", "‡¶Æ‡ßã‡¶π‡¶®‡¶™‡ßÅ‡¶∞", "‡¶™‡¶¨‡¶æ", "‡¶™‡ßÅ‡¶†‡¶ø‡ßü‡¶æ", "‡¶§‡¶æ‡¶®‡ßã‡¶∞"]
                        },
                        {
                            name: "‡¶∏‡¶ø‡¶∞‡¶æ‡¶ú‡¶ó‡¶û‡ßç‡¶ú",
                            upazilas: ["‡¶¨‡ßá‡¶≤‡¶ï‡ßÅ‡¶ö‡¶ø", "‡¶ö‡ßå‡¶π‡¶æ‡¶≤‡¶ø", "‡¶ï‡¶æ‡¶Æ‡¶æ‡¶∞‡¶ñ‡¶®‡ßç‡¶¶", "‡¶ï‡¶æ‡¶ú‡ßÄ‡¶™‡ßÅ‡¶∞", "‡¶∞‡¶æ‡ßü‡¶ó‡¶û‡ßç‡¶ú", "‡¶∂‡¶æ‡¶π‡¶ú‡¶æ‡¶¶‡¶™‡ßÅ‡¶∞", "‡¶∏‡¶ø‡¶∞‡¶æ‡¶ú‡¶ó‡¶û‡ßç‡¶ú ‡¶∏‡¶¶‡¶∞", "‡¶§‡¶æ‡¶∞‡¶æ‡¶∂", "‡¶â‡¶≤‡ßç‡¶≤‡¶æ‡¶™‡¶æ‡ßú‡¶æ"]
                        }
                    ]
                },
                {
                    name: "‡¶∞‡¶Ç‡¶™‡ßÅ‡¶∞",
                    districts: [
                        {
                            name: "‡¶¶‡¶ø‡¶®‡¶æ‡¶ú‡¶™‡ßÅ‡¶∞",
                            upazilas: ["‡¶¨‡¶ø‡¶∞‡¶æ‡¶Æ‡¶™‡ßÅ‡¶∞", "‡¶¨‡ßÄ‡¶∞‡¶ó‡¶û‡ßç‡¶ú", "‡¶¨‡¶ø‡¶∞‡¶≤", "‡¶¨‡ßã‡¶ö‡¶æ‡¶ó‡¶û‡ßç‡¶ú", "‡¶ö‡¶ø‡¶∞‡¶ø‡¶∞‡¶¨‡¶®‡ßç‡¶¶‡¶∞", "‡¶´‡ßÅ‡¶≤‡¶¨‡¶æ‡ßú‡ßÄ", "‡¶ò‡ßã‡ßú‡¶æ‡¶ò‡¶æ‡¶ü", "‡¶π‡¶æ‡¶ï‡¶ø‡¶Æ‡¶™‡ßÅ‡¶∞", "‡¶ï‡¶æ‡¶π‡¶æ‡¶∞‡ßã‡¶≤", "‡¶ñ‡¶æ‡¶®‡¶∏‡¶æ‡¶Æ‡¶æ", "‡¶¶‡¶ø‡¶®‡¶æ‡¶ú‡¶™‡ßÅ‡¶∞ ‡¶∏‡¶¶‡¶∞", "‡¶®‡¶¨‡¶æ‡¶¨‡¶ó‡¶û‡ßç‡¶ú", "‡¶™‡¶æ‡¶∞‡ßç‡¶¨‡¶§‡ßÄ‡¶™‡ßÅ‡¶∞"]
                        },
                        {
                            name: "‡¶ó‡¶æ‡¶á‡¶¨‡¶æ‡¶®‡ßç‡¶ß‡¶æ",
                            upazilas: ["‡¶´‡ßÅ‡¶≤‡¶õ‡ßú‡¶ø", "‡¶ó‡¶æ‡¶á‡¶¨‡¶æ‡¶®‡ßç‡¶ß‡¶æ ‡¶∏‡¶¶‡¶∞", "‡¶ó‡ßã‡¶¨‡¶ø‡¶®‡ßç‡¶¶‡¶ó‡¶û‡ßç‡¶ú", "‡¶™‡¶≤‡¶æ‡¶∂‡¶¨‡¶æ‡ßú‡ßÄ", "‡¶∏‡¶æ‡¶¶‡ßÅ‡¶≤‡ßç‡¶≤‡¶æ‡¶™‡ßÅ‡¶∞", "‡¶∏‡¶æ‡¶ò‡¶æ‡¶ü‡¶æ", "‡¶∏‡ßÅ‡¶®‡ßç‡¶¶‡¶∞‡¶ó‡¶û‡ßç‡¶ú"]
                        },
                        {
                            name: "‡¶ï‡ßÅ‡ßú‡¶ø‡¶ó‡ßç‡¶∞‡¶æ‡¶Æ",
                            upazilas: ["‡¶≠‡ßÅ‡¶∞‡ßÅ‡¶ô‡ßç‡¶ó‡¶æ‡¶Æ‡¶æ‡¶∞‡ßÄ", "‡¶ö‡¶∞ ‡¶∞‡¶æ‡¶ú‡¶ø‡¶¨‡¶™‡ßÅ‡¶∞", "‡¶ö‡¶ø‡¶≤‡¶Æ‡¶æ‡¶∞‡ßÄ", "‡¶´‡ßÅ‡¶≤‡¶¨‡¶æ‡ßú‡ßÄ", "‡¶ï‡ßÅ‡ßú‡¶ø‡¶ó‡ßç‡¶∞‡¶æ‡¶Æ ‡¶∏‡¶¶‡¶∞", "‡¶®‡¶æ‡¶ó‡ßá‡¶∂‡ßç‡¶¨‡¶∞‡ßÄ", "‡¶∞‡¶æ‡¶ú‡¶æ‡¶∞‡¶π‡¶æ‡¶ü", "‡¶∞‡ßå‡¶Æ‡¶æ‡¶∞‡ßÄ", "‡¶â‡¶≤‡¶ø‡¶™‡ßÅ‡¶∞"]
                        },
                        {
                            name: "‡¶≤‡¶æ‡¶≤‡¶Æ‡¶®‡¶ø‡¶∞‡¶π‡¶æ‡¶ü",
                            upazilas: ["‡¶Ü‡¶¶‡¶ø‡¶§‡¶Æ‡¶æ‡¶∞‡ßÄ", "‡¶π‡¶æ‡¶§‡¶ø‡¶¨‡¶æ‡¶®‡ßç‡¶ß‡¶æ", "‡¶ï‡¶æ‡¶≤‡ßÄ‡¶ó‡¶û‡ßç‡¶ú", "‡¶≤‡¶æ‡¶≤‡¶Æ‡¶®‡¶ø‡¶∞‡¶π‡¶æ‡¶ü ‡¶∏‡¶¶‡¶∞", "‡¶™‡¶æ‡¶ü‡¶ó‡ßç‡¶∞‡¶æ‡¶Æ"]
                        },
                        {
                            name: "‡¶®‡ßÄ‡¶≤‡¶´‡¶æ‡¶Æ‡¶æ‡¶∞‡ßÄ",
                            upazilas: ["‡¶°‡¶ø‡¶Æ‡¶≤‡¶æ", "‡¶°‡ßã‡¶Æ‡¶æ‡¶∞", "‡¶ú‡¶≤‡¶¢‡¶æ‡¶ï‡¶æ", "‡¶ï‡¶ø‡¶∂‡ßã‡¶∞‡¶ó‡¶û‡ßç‡¶ú", "‡¶®‡ßÄ‡¶≤‡¶´‡¶æ‡¶Æ‡¶æ‡¶∞‡ßÄ ‡¶∏‡¶¶‡¶∞", "‡¶∏‡ßà‡ßü‡¶¶‡¶™‡ßÅ‡¶∞"]
                        },
                        {
                            name: "‡¶™‡¶û‡ßç‡¶ö‡¶ó‡ßú",
                            upazilas: ["‡¶Ü‡¶ü‡ßã‡ßü‡¶æ‡¶∞‡ßÄ", "‡¶¨‡ßã‡¶¶‡¶æ", "‡¶¶‡ßá‡¶¨‡ßÄ‡¶ó‡¶û‡ßç‡¶ú", "‡¶™‡¶û‡ßç‡¶ö‡¶ó‡ßú ‡¶∏‡¶¶‡¶∞", "‡¶§‡ßá‡¶§‡ßÅ‡¶≤‡¶ø‡ßü‡¶æ"]
                        },
                        {
                            name: "‡¶∞‡¶Ç‡¶™‡ßÅ‡¶∞",
                            upazilas: ["‡¶¨‡¶¶‡¶∞‡¶ó‡¶û‡ßç‡¶ú", "‡¶ó‡¶ô‡ßç‡¶ó‡¶æ‡¶ö‡ßú‡¶æ", "‡¶ï‡¶æ‡¶â‡¶®‡¶ø‡ßü‡¶æ", "‡¶∞‡¶Ç‡¶™‡ßÅ‡¶∞ ‡¶∏‡¶¶‡¶∞", "‡¶Æ‡¶ø‡¶†‡¶æ‡¶™‡ßÅ‡¶ï‡ßÅ‡¶∞", "‡¶™‡ßÄ‡¶∞‡¶ó‡¶û‡ßç‡¶ú", "‡¶™‡ßÄ‡¶∞‡¶ó‡¶æ‡¶õ‡¶æ", "‡¶§‡¶æ‡¶∞‡¶æ‡¶ó‡¶û‡ßç‡¶ú"]
                        },
                        {
                            name: "‡¶†‡¶æ‡¶ï‡ßÅ‡¶∞‡¶ó‡¶æ‡¶Å‡¶ì",
                            upazilas: ["‡¶¨‡¶æ‡¶≤‡¶ø‡ßü‡¶æ‡¶°‡¶æ‡¶ô‡ßç‡¶ó‡ßÄ", "‡¶π‡¶∞‡¶ø‡¶™‡ßÅ‡¶∞", "‡¶™‡ßÄ‡¶∞‡¶ó‡¶û‡ßç‡¶ú", "‡¶∞‡¶æ‡¶£‡ßÄ‡¶∂‡¶Ç‡¶ï‡ßà‡¶≤", "‡¶†‡¶æ‡¶ï‡ßÅ‡¶∞‡¶ó‡¶æ‡¶Å‡¶ì ‡¶∏‡¶¶‡¶∞"]
                        }
                    ]
                },
                {
                    name: "‡¶ñ‡ßÅ‡¶≤‡¶®‡¶æ",
                    districts: [
                        {
                            name: "‡¶¨‡¶æ‡¶ó‡ßá‡¶∞‡¶π‡¶æ‡¶ü",
                            upazilas: ["‡¶¨‡¶æ‡¶ó‡ßá‡¶∞‡¶π‡¶æ‡¶ü ‡¶∏‡¶¶‡¶∞", "‡¶ö‡¶ø‡¶§‡¶≤‡¶Æ‡¶æ‡¶∞‡ßÄ", "‡¶´‡¶ï‡¶ø‡¶∞‡¶π‡¶æ‡¶ü", "‡¶ï‡¶ö‡ßÅ‡ßü‡¶æ", "‡¶Æ‡ßã‡¶≤‡ßç‡¶≤‡¶æ‡¶π‡¶æ‡¶ü", "‡¶Æ‡ßã‡¶Ç‡¶≤‡¶æ", "‡¶Æ‡ßã‡¶∞‡ßá‡¶≤‡¶ó‡¶û‡ßç‡¶ú", "‡¶∞‡¶æ‡¶Æ‡¶™‡¶æ‡¶≤", "‡¶∂‡¶∞‡¶£‡¶ñ‡ßã‡¶≤‡¶æ"]
                        },
                        {
                            name: "‡¶ö‡ßÅ‡ßü‡¶æ‡¶°‡¶æ‡¶ô‡ßç‡¶ó‡¶æ",
                            upazilas: ["‡¶Ü‡¶≤‡¶Æ‡¶°‡¶æ‡¶ô‡ßç‡¶ó‡¶æ", "‡¶ö‡ßÅ‡ßü‡¶æ‡¶°‡¶æ‡¶ô‡ßç‡¶ó‡¶æ ‡¶∏‡¶¶‡¶∞", "‡¶¶‡¶æ‡¶Æ‡ßÅ‡ßú‡¶π‡ßÅ‡¶¶‡¶æ", "‡¶ú‡ßÄ‡¶¨‡¶®‡¶®‡¶ó‡¶∞"]
                        },
                        {
                            name: "‡¶Ø‡¶∂‡ßã‡¶∞",
                            upazilas: ["‡¶Ö‡¶≠‡ßü‡¶®‡¶ó‡¶∞", "‡¶¨‡¶æ‡¶ò‡¶æ‡¶∞‡¶™‡¶æ‡ßú‡¶æ", "‡¶ö‡ßå‡¶ó‡¶æ‡¶õ‡¶æ", "‡¶ù‡¶ø‡¶ï‡¶∞‡¶ó‡¶æ‡¶õ‡¶æ", "‡¶ï‡ßá‡¶∂‡¶¨‡¶™‡ßÅ‡¶∞", "‡¶Ø‡¶∂‡ßã‡¶∞ ‡¶∏‡¶¶‡¶∞", "‡¶Æ‡¶®‡¶ø‡¶∞‡¶æ‡¶Æ‡¶™‡ßÅ‡¶∞", "‡¶∂‡¶æ‡¶∞‡ßç‡¶∂‡¶æ"]
                        },
                        {
                            name: "‡¶ù‡¶ø‡¶®‡¶æ‡¶á‡¶¶‡¶π",
                            upazilas: ["‡¶π‡¶∞‡¶ø‡¶£‡¶æ‡¶ï‡ßÅ‡¶£‡ßç‡¶°", "‡¶ù‡¶ø‡¶®‡¶æ‡¶á‡¶¶‡¶π ‡¶∏‡¶¶‡¶∞", "‡¶ï‡¶æ‡¶≤‡ßÄ‡¶ó‡¶û‡ßç‡¶ú", "‡¶ï‡ßã‡¶ü‡¶ö‡¶æ‡¶Å‡¶¶‡¶™‡ßÅ‡¶∞", "‡¶Æ‡¶π‡ßá‡¶∂‡¶™‡ßÅ‡¶∞", "‡¶∂‡ßà‡¶≤‡¶ï‡ßÅ‡¶™‡¶æ"]
                        },
                        {
                            name: "‡¶ñ‡ßÅ‡¶≤‡¶®‡¶æ",
                            upazilas: ["‡¶¨‡¶ü‡¶ø‡ßü‡¶æ‡¶ò‡¶æ‡¶ü‡¶æ", "‡¶¶‡¶æ‡¶ï‡ßã‡¶™", "‡¶°‡ßÅ‡¶Æ‡ßÅ‡¶∞‡¶ø‡ßü‡¶æ", "‡¶¶‡¶ø‡¶ò‡¶≤‡¶ø‡ßü‡¶æ", "‡¶ï‡ßü‡¶∞‡¶æ", "‡¶™‡¶æ‡¶á‡¶ï‡¶ó‡¶æ‡¶õ‡¶æ", "‡¶´‡ßÅ‡¶≤‡¶§‡¶≤‡¶æ", "‡¶∞‡ßÇ‡¶™‡¶∏‡¶æ", "‡¶§‡ßá‡¶∞‡¶ñ‡¶æ‡¶¶‡¶æ"]
                        },
                        {
                            name: "‡¶ï‡ßÅ‡¶∑‡ßç‡¶ü‡¶ø‡ßü‡¶æ",
                            upazilas: ["‡¶≠‡ßá‡ßú‡¶æ‡¶Æ‡¶æ‡¶∞‡¶æ", "‡¶¶‡ßå‡¶≤‡¶§‡¶™‡ßÅ‡¶∞", "‡¶ñ‡ßã‡¶ï‡¶∏‡¶æ", "‡¶ï‡ßÅ‡¶Æ‡¶æ‡¶∞‡¶ñ‡¶æ‡¶≤‡ßÄ", "‡¶ï‡ßÅ‡¶∑‡ßç‡¶ü‡¶ø‡ßü‡¶æ ‡¶∏‡¶¶‡¶∞", "‡¶Æ‡¶ø‡¶∞‡¶™‡ßÅ‡¶∞"]
                        },
                        {
                            name: "‡¶Æ‡¶æ‡¶ó‡ßÅ‡¶∞‡¶æ",
                            upazilas: ["‡¶Æ‡¶æ‡¶ó‡ßÅ‡¶∞‡¶æ ‡¶∏‡¶¶‡¶∞", "‡¶Æ‡ßã‡¶π‡¶æ‡¶Æ‡ßç‡¶Æ‡¶¶‡¶™‡ßÅ‡¶∞", "‡¶∂‡¶æ‡¶≤‡¶ø‡¶ñ‡¶æ", "‡¶∂‡ßç‡¶∞‡ßÄ‡¶™‡ßÅ‡¶∞"]
                        },
                        {
                            name: "‡¶Æ‡ßá‡¶π‡ßá‡¶∞‡¶™‡ßÅ‡¶∞",
                            upazilas: ["‡¶ó‡¶æ‡¶Ç‡¶®‡¶ø", "‡¶Æ‡ßá‡¶π‡ßá‡¶∞‡¶™‡ßÅ‡¶∞ ‡¶∏‡¶¶‡¶∞", "‡¶Æ‡ßÅ‡¶ú‡¶ø‡¶¨‡¶®‡¶ó‡¶∞"]
                        },
                        {
                            name: "‡¶®‡ßú‡¶æ‡¶á‡¶≤",
                            upazilas: ["‡¶ï‡¶æ‡¶≤‡¶ø‡ßü‡¶æ", "‡¶≤‡ßã‡¶π‡¶æ‡¶ó‡ßú‡¶æ", "‡¶®‡ßú‡¶æ‡¶á‡¶≤ ‡¶∏‡¶¶‡¶∞"]
                        },
                        {
                            name: "‡¶∏‡¶æ‡¶§‡¶ï‡ßç‡¶∑‡ßÄ‡¶∞‡¶æ",
                            upazilas: ["‡¶Ü‡¶∏‡¶∏‡ßÅ‡¶®‡¶ø", "‡¶¶‡ßá‡¶¨‡¶π‡¶æ‡¶ü‡¶æ", "‡¶ï‡¶≤‡¶æ‡¶∞‡ßã‡ßü‡¶æ", "‡¶ï‡¶æ‡¶≤‡ßÄ‡¶ó‡¶û‡ßç‡¶ú", "‡¶∏‡¶æ‡¶§‡¶ï‡ßç‡¶∑‡ßÄ‡¶∞‡¶æ ‡¶∏‡¶¶‡¶∞", "‡¶∂‡ßç‡¶Ø‡¶æ‡¶Æ‡¶®‡¶ó‡¶∞", "‡¶§‡¶æ‡¶≤‡¶æ"]
                        }
                    ]
                },
                {
                    name: "‡¶¨‡¶∞‡¶ø‡¶∂‡¶æ‡¶≤",
                    districts: [
                        {
                            name: "‡¶¨‡¶∞‡¶ø‡¶∂‡¶æ‡¶≤",
                            upazilas: ["‡¶Ü‡¶ó‡ßà‡¶≤‡¶ù‡¶æ‡ßú‡¶æ", "‡¶¨‡¶æ‡¶¨‡ßÅ‡¶ó‡¶û‡ßç‡¶ú", "‡¶¨‡¶æ‡¶ï‡ßá‡¶∞‡¶ó‡¶û‡ßç‡¶ú", "‡¶¨‡¶æ‡¶®‡¶æ‡¶∞‡ßÄ‡¶™‡¶æ‡ßú‡¶æ", "‡¶ó‡ßå‡¶∞‡¶®‡¶¶‡ßÄ", "‡¶π‡¶ø‡¶ú‡¶≤‡¶æ", "‡¶¨‡¶∞‡¶ø‡¶∂‡¶æ‡¶≤ ‡¶∏‡¶¶‡¶∞", "‡¶Æ‡ßá‡¶π‡ßá‡¶®‡ßç‡¶¶‡¶ø‡¶ó‡¶û‡ßç‡¶ú", "‡¶Æ‡ßÅ‡¶≤‡¶æ‡¶¶‡ßÄ", "‡¶ì‡¶ú‡¶ø‡¶∞‡¶™‡ßÅ‡¶∞"]
                        },
                        {
                            name: "‡¶≠‡ßã‡¶≤‡¶æ",
                            upazilas: ["‡¶≠‡ßã‡¶≤‡¶æ ‡¶∏‡¶¶‡¶∞", "‡¶¨‡ßÅ‡¶∞‡¶π‡¶æ‡¶®‡¶â‡¶¶‡ßç‡¶¶‡¶ø‡¶®", "‡¶ö‡¶∞ ‡¶´‡ßç‡¶Ø‡¶æ‡¶∂‡¶®", "‡¶¶‡ßå‡¶≤‡¶§‡¶ñ‡¶æ‡¶®", "‡¶≤‡¶æ‡¶≤‡¶Æ‡ßã‡¶π‡¶®", "‡¶§‡¶ú‡ßÅ‡¶Æ‡¶¶‡ßç‡¶¶‡¶ø‡¶®", "‡¶Æ‡¶®‡¶™‡ßÅ‡¶∞‡¶æ"]
                        },
                        {
                            name: "‡¶ù‡¶æ‡¶≤‡¶ï‡¶æ‡¶†‡¶ø",
                            upazilas: ["‡¶ù‡¶æ‡¶≤‡¶ï‡¶æ‡¶†‡¶ø ‡¶∏‡¶¶‡¶∞", "‡¶ï‡¶æ‡¶†‡¶æ‡¶≤‡¶ø‡ßü‡¶æ", "‡¶®‡¶≤‡¶õ‡¶ø‡¶ü‡¶ø", "‡¶∞‡¶æ‡¶ú‡¶æ‡¶™‡ßÅ‡¶∞"]
                        },
                        {
                            name: "‡¶™‡¶ü‡ßÅ‡ßü‡¶æ‡¶ñ‡¶æ‡¶≤‡ßÄ",
                            upazilas: ["‡¶¨‡¶æ‡¶â‡¶´‡¶≤", "‡¶¶‡¶∂‡¶Æ‡¶ø‡¶®‡¶æ", "‡¶ó‡¶≤‡¶æ‡¶ö‡¶ø‡¶™‡¶æ", "‡¶ï‡¶≤‡¶æ‡¶™‡¶æ‡ßú‡¶æ", "‡¶Æ‡¶ø‡¶∞‡ßç‡¶ú‡¶æ‡¶ó‡¶û‡ßç‡¶ú", "‡¶™‡¶ü‡ßÅ‡ßü‡¶æ‡¶ñ‡¶æ‡¶≤‡ßÄ ‡¶∏‡¶¶‡¶∞", "‡¶∞‡¶æ‡¶ô‡ßç‡¶ó‡¶æ‡¶¨‡¶æ‡¶≤‡ßÄ", "‡¶¶‡ßÅ‡¶Æ‡¶ï‡¶ø"]
                        },
                        {
                            name: "‡¶™‡¶ø‡¶∞‡ßã‡¶ú‡¶™‡ßÅ‡¶∞",
                            upazilas: ["‡¶≠‡¶æ‡¶®‡ßç‡¶°‡¶æ‡¶∞‡¶ø‡ßü‡¶æ", "‡¶ï‡¶æ‡¶â‡¶ñ‡¶æ‡¶≤‡ßÄ", "‡¶Æ‡¶†‡¶¨‡¶æ‡ßú‡¶ø‡ßü‡¶æ", "‡¶®‡¶æ‡¶ú‡¶ø‡¶∞‡¶™‡ßÅ‡¶∞", "‡¶™‡¶ø‡¶∞‡ßã‡¶ú‡¶™‡ßÅ‡¶∞ ‡¶∏‡¶¶‡¶∞", "‡¶®‡ßá‡¶õ‡¶æ‡¶∞‡¶æ‡¶¨‡¶æ‡¶¶", "‡¶ú‡¶ø‡ßü‡¶æ‡¶®‡¶ó‡¶∞"]
                        },
                        {
                            name: "‡¶¨‡¶∞‡¶ó‡ßÅ‡¶®‡¶æ",
                            upazilas: ["‡¶Ü‡¶Æ‡¶§‡¶≤‡ßÄ", "‡¶¨‡¶æ‡¶Æ‡¶®‡¶æ", "‡¶¨‡¶∞‡¶ó‡ßÅ‡¶®‡¶æ ‡¶∏‡¶¶‡¶∞", "‡¶¨‡ßá‡¶§‡¶æ‡¶ó‡ßÄ", "‡¶™‡¶æ‡¶•‡¶∞‡¶ò‡¶æ‡¶ü‡¶æ", "‡¶§‡¶æ‡¶≤‡¶§‡¶≤‡ßÄ"]
                        }
                    ]
                },
                {
                    name: "‡¶Æ‡ßü‡¶Æ‡¶®‡¶∏‡¶ø‡¶Ç‡¶π",
                    districts: [
                        {
                            name: "‡¶ú‡¶æ‡¶Æ‡¶æ‡¶≤‡¶™‡ßÅ‡¶∞",
                            upazilas: ["‡¶¨‡¶ï‡¶∂‡ßÄ‡¶ó‡¶û‡ßç‡¶ú", "‡¶¶‡ßá‡¶ì‡ßü‡¶æ‡¶®‡¶ó‡¶û‡ßç‡¶ú", "‡¶á‡¶∏‡¶≤‡¶æ‡¶Æ‡¶™‡ßÅ‡¶∞", "‡¶ú‡¶æ‡¶Æ‡¶æ‡¶≤‡¶™‡ßÅ‡¶∞ ‡¶∏‡¶¶‡¶∞", "‡¶Æ‡¶æ‡¶¶‡¶æ‡¶∞‡¶ó‡¶û‡ßç‡¶ú", "‡¶Æ‡ßá‡¶≤‡¶æ‡¶®‡ßç‡¶¶‡¶π", "‡¶∏‡¶∞‡¶ø‡¶∑‡¶æ‡¶¨‡¶æ‡ßú‡ßÄ"]
                        },
                        {
                            name: "‡¶Æ‡ßü‡¶Æ‡¶®‡¶∏‡¶ø‡¶Ç‡¶π",
                            upazilas: ["‡¶≠‡¶æ‡¶≤‡ßÅ‡¶ï‡¶æ", "‡¶ß‡ßã‡¶¨‡¶æ‡¶â‡ßú‡¶æ", "‡¶´‡ßÅ‡¶≤‡¶¨‡¶æ‡ßú‡ßÄ‡ßü‡¶æ", "‡¶ó‡¶´‡¶∞‡¶ó‡¶æ‡¶Å‡¶ì", "‡¶ó‡ßå‡¶∞‡ßÄ‡¶™‡ßÅ‡¶∞", "‡¶π‡¶æ‡¶≤‡ßÅ‡ßü‡¶æ‡¶ò‡¶æ‡¶ü", "‡¶à‡¶∂‡ßç‡¶¨‡¶∞‡¶ó‡¶û‡ßç‡¶ú", "‡¶Æ‡ßü‡¶Æ‡¶®‡¶∏‡¶ø‡¶Ç‡¶π ‡¶∏‡¶¶‡¶∞", "‡¶Æ‡ßÅ‡¶ï‡ßç‡¶§‡¶æ‡¶ó‡¶æ‡¶õ‡¶æ", "‡¶®‡¶æ‡¶®‡ßç‡¶¶‡¶æ‡¶á‡¶≤", "‡¶´‡ßÅ‡¶≤‡¶™‡ßÅ‡¶∞", "‡¶§‡ßç‡¶∞‡¶ø‡¶∂‡¶æ‡¶≤"]
                        },
                        {
                            name: "‡¶®‡ßá‡¶§‡ßç‡¶∞‡¶ï‡ßã‡¶£‡¶æ",
                            upazilas: ["‡¶Ü‡¶ü‡¶™‡¶æ‡ßú‡¶æ", "‡¶¨‡¶æ‡¶∞‡¶π‡¶æ‡¶ü‡ßç‡¶ü‡¶æ", "‡¶¶‡ßÅ‡¶∞‡ßç‡¶ó‡¶æ‡¶™‡ßÅ‡¶∞", "‡¶ñ‡¶æ‡¶≤‡¶ø‡ßü‡¶æ‡¶ú‡ßÅ‡¶∞‡ßÄ", "‡¶ï‡ßá‡¶®‡ßç‡¶¶‡ßÅ‡ßü‡¶æ", "‡¶Æ‡¶¶‡¶®", "‡¶Æ‡ßã‡¶π‡¶®‡¶ó‡¶û‡ßç‡¶ú", "‡¶®‡ßá‡¶§‡ßç‡¶∞‡¶ï‡ßã‡¶£‡¶æ ‡¶∏‡¶¶‡¶∞", "‡¶™‡ßÇ‡¶∞‡ßç‡¶¨‡¶ß‡¶≤‡¶æ"]
                        },
                        {
                            name: "‡¶∂‡ßá‡¶∞‡¶™‡ßÅ‡¶∞",
                            upazilas: ["‡¶ù‡¶ø‡¶®‡¶æ‡¶á‡¶ó‡¶æ‡¶§‡ßÄ", "‡¶®‡¶ï‡¶≤‡¶æ", "‡¶®‡¶æ‡¶≤‡¶ø‡¶§‡¶æ‡¶¨‡¶æ‡ßú‡ßÄ", "‡¶∂‡ßá‡¶∞‡¶™‡ßÅ‡¶∞ ‡¶∏‡¶¶‡¶∞", "‡¶∂‡ßç‡¶∞‡ßÄ‡¶¨‡¶∞‡¶¶‡ßÄ"]
                        }
                    ]
                }
            ]
        };

        // DOM elements
        const donorForm = document.getElementById('donorForm');
        const requestForm = document.getElementById('requestForm');
        const searchForm = document.getElementById('searchForm');
        const emergencyForm = document.getElementById('emergencyForm');
        const updateDonationForm = document.getElementById('updateDonationForm');
        const donorList = document.getElementById('donorList');
        const donorLoading = document.getElementById('donorLoading');
        const successModal = new bootstrap.Modal(document.getElementById('successModal'));
        const errorModal = new bootstrap.Modal(document.getElementById('errorModal'));
        const emergencyModal = new bootstrap.Modal(document.getElementById('emergencyModal'));
        const updateDonationModal = new bootstrap.Modal(document.getElementById('updateDonationModal'));
        const emergencyWhatsApp = document.getElementById('emergencyWhatsApp');
        const sendEmergencyRequest = document.getElementById('sendEmergencyRequest');
        const updateDonationBtn = document.getElementById('updateDonationBtn');

        // Initialize the page
        document.addEventListener('DOMContentLoaded', function() {
            populateDivisions();
            loadDonors();
            requestNotificationPermission();
            
            // Set emergency WhatsApp link
            emergencyWhatsApp.href = generateWhatsAppLink(
                "8801960506601", 
                `‡¶ú‡¶∞‡ßÅ‡¶∞‡¶ø ‡¶∞‡¶ï‡ßç‡¶§‡ßá‡¶∞ ‡¶Ü‡¶¨‡ßá‡¶¶‡¶®:\n\n‡¶ú‡¶∞‡ßÅ‡¶∞‡¶ø ‡¶∞‡¶ï‡ßç‡¶§‡ßá‡¶∞ ‡¶™‡ßç‡¶∞‡ßü‡ßã‡¶ú‡¶®!\n‡¶¨‡¶ø‡¶≠‡¶æ‡¶ó: ______\n‡¶ú‡ßá‡¶≤‡¶æ: ______\n‡¶â‡¶™‡¶ú‡ßá‡¶≤‡¶æ: ______\n‡¶∞‡¶ï‡ßç‡¶§‡¶¶‡¶æ‡¶®‡ßá‡¶∞ ‡¶∏‡ßç‡¶•‡¶æ‡¶®: ______\n‡¶∞‡¶ï‡ßç‡¶§‡ßá‡¶∞ ‡¶ó‡ßç‡¶∞‡ßÅ‡¶™: ______\n‡¶∞‡¶ï‡ßç‡¶§‡ßá‡¶∞ ‡¶™‡¶∞‡¶ø‡¶Æ‡¶æ‡¶£: ______\n‡¶Ø‡ßã‡¶ó‡¶æ‡¶Ø‡ßã‡¶ó: ______\n‡¶™‡ßç‡¶∞‡ßü‡ßã‡¶ú‡¶®‡ßÄ‡ßü ‡¶§‡¶æ‡¶∞‡¶ø‡¶ñ: ______`
            );
        });

        // WhatsApp link generator
        function generateWhatsAppLink(phone, message) {
            const formattedPhone = phone.startsWith('+') ? phone.substring(1) : 
                                  phone.startsWith('88') ? phone : 
                                  phone.startsWith('0') ? '88' + phone : '880' + phone;
            
            const encodedMessage = encodeURIComponent(message);
            return `https://wa.me/${formattedPhone}?text=${encodedMessage}`;
        }

        // Request notification permission
        function requestNotificationPermission() {
            Notification.requestPermission().then(permission => {
                if (permission === 'granted') {
                    console.log('Notification permission granted.');
                    initFirebaseMessaging();
                }
            });
        }

        // Initialize Firebase Messaging
        function initFirebaseMessaging() {
            getToken(messaging, {vapidKey: 'YOUR_VAPID_KEY'}).then((currentToken) => {
                if (currentToken) {
                    console.log('FCM Token:', currentToken);
                    saveMessagingToken(currentToken);
                } else {
                    console.log('No registration token available. Request permission to generate one.');
                }
            }).catch((err) => {
                console.log('An error occurred while retrieving token. ', err);
            });

            onMessage(messaging, (payload) => {
                console.log('Message received. ', payload);
                showNotification(payload.notification.title, payload.notification.body);
            });
        }

        // Save FCM token
        function saveMessagingToken(token) {
            if (auth.currentUser) {
                const userRef = collection(db, 'users');
                addDoc(userRef, {
                    userId: auth.currentUser.uid,
                    fcmTokens: [token]
                }, { merge: true });
            }
        }

        // Show browser notification
        function showNotification(title, body) {
            if (Notification.permission === 'granted') {
                new Notification(title, { body });
            }
        }

        // Populate division dropdowns
        function populateDivisions() {
            const divisionSelects = [
                document.getElementById('donorDivision'),
                document.getElementById('requestDivision'),
                document.getElementById('searchDivision')
            ];

            divisionSelects.forEach(select => {
                bangladeshData.divisions.forEach(division => {
                    const option = document.createElement('option');
                    option.value = division.name;
                    option.textContent = division.name;
                    select.appendChild(option);
                });
            });
        }

        // Handle division change for donor form
        document.getElementById('donorDivision').addEventListener('change', function() {
            const divisionName = this.value;
            const districtSelect = document.getElementById('donorDistrict');
            updateDistricts(divisionName, districtSelect);
        });

        // Handle district change for donor form
        document.getElementById('donorDistrict').addEventListener('change', function() {
            const districtName = this.value;
            const divisionName = document.getElementById('donorDivision').value;
            const upazilaSelect = document.getElementById('donorUpazila');
            updateUpazilas(divisionName, districtName, upazilaSelect);
        });

        // Handle division change for request form
        document.getElementById('requestDivision').addEventListener('change', function() {
            const divisionName = this.value;
            const districtSelect = document.getElementById('requestDistrict');
            updateDistricts(divisionName, districtSelect);
        });

        // Handle district change for request form
        document.getElementById('requestDistrict').addEventListener('change', function() {
            const districtName = this.value;
            const divisionName = document.getElementById('requestDivision').value;
            const upazilaSelect = document.getElementById('requestUpazila');
            updateUpazilas(divisionName, districtName, upazilaSelect);
        });

        // Handle division change for search form
        document.getElementById('searchDivision').addEventListener('change', function() {
            const divisionName = this.value;
            const districtSelect = document.getElementById('searchDistrict');
            updateDistricts(divisionName, districtSelect);
        });

        // Update districts based on selected division
        function updateDistricts(divisionName, districtSelect) {
            districtSelect.innerHTML = '<option value="" selected>‡¶∏‡¶ï‡¶≤ ‡¶ú‡ßá‡¶≤‡¶æ</option>';
            districtSelect.disabled = !divisionName;
            
            if (divisionName) {
                const division = bangladeshData.divisions.find(d => d.name === divisionName);
                if (division) {
                    division.districts.forEach(district => {
                        const option = document.createElement('option');
                        option.value = district.name;
                        option.textContent = district.name;
                        districtSelect.appendChild(option);
                    });
                    districtSelect.disabled = false;
                }
            }
        }

        // Update upazilas based on selected district
        function updateUpazilas(divisionName, districtName, upazilaSelect) {
            upazilaSelect.innerHTML = '<option value="" selected disabled>‡¶â‡¶™‡¶ú‡ßá‡¶≤‡¶æ ‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®</option>';
            upazilaSelect.disabled = !districtName;
            
            if (divisionName && districtName) {
                const division = bangladeshData.divisions.find(d => d.name === divisionName);
                if (division) {
                    const district = division.districts.find(d => d.name === districtName);
                    if (district) {
                        district.upazilas.forEach(upazila => {
                            const option = document.createElement('option');
                            option.value = upazila;
                            option.textContent = upazila;
                            upazilaSelect.appendChild(option);
                        });
                        upazilaSelect.disabled = false;
                    }
                }
            }
        }

        // Handle donor form submission
        donorForm.addEventListener('submit', async function(e) {
            e.preventDefault();
            
            const donorData = {
                name: document.getElementById('donorName').value,
                bloodGroup: document.getElementById('donorBloodGroup').value,
                phone: formatPhoneNumber(document.getElementById('donorPhone').value),
                division: document.getElementById('donorDivision').value,
                district: document.getElementById('donorDistrict').value,
                upazila: document.getElementById('donorUpazila').value,
                lastDonation: document.getElementById('lastDonationDate').value,
                registrationDate: new Date().toISOString(),
                status: "active",
                availability: "available",
                fcmToken: localStorage.getItem('fcmToken')
            };
            
            if (!validateDonorForm(donorData)) {
                return;
            }
            
            try {
                // Check if donor already exists
                const q = query(
                    collection(db, 'donors'),
                    where('phone', '==', donorData.phone),
                    where('status', '==', 'active')
                );
                
                const querySnapshot = await getDocs(q);
                
                if (!querySnapshot.empty) {
                    document.getElementById('errorMessage').textContent = 
                        `‡¶è‡¶á ‡¶´‡ßã‡¶® ‡¶®‡¶Æ‡ßç‡¶¨‡¶∞ (${donorData.phone}) ‡¶¶‡¶ø‡¶Ø‡¶º‡ßá ‡¶á‡¶§‡¶ø‡¶Æ‡¶ß‡ßç‡¶Ø‡ßá ‡¶è‡¶ï‡¶ú‡¶® ‡¶∞‡¶ï‡ßç‡¶§‡¶¶‡¶æ‡¶§‡¶æ ‡¶®‡¶ø‡¶¨‡¶®‡ßç‡¶ß‡¶ø‡¶§ ‡¶Ü‡¶õ‡ßá‡•§`;
                    errorModal.show();
                    return;
                }
                
                // Add new donor
                await addDoc(collection(db, 'donors'), donorData);
                
                document.getElementById('successMessage').textContent = 
                    "‡¶∞‡¶ï‡ßç‡¶§‡¶¶‡¶æ‡¶§‡¶æ ‡¶π‡¶ø‡¶∏‡ßá‡¶¨‡ßá ‡¶®‡¶ø‡¶¨‡¶®‡ßç‡¶ß‡¶®‡ßá ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶Ü‡¶™‡¶®‡¶æ‡¶ï‡ßá ‡¶ß‡¶®‡ßç‡¶Ø‡¶¨‡¶æ‡¶¶, ‡¶è‡¶ï‡¶ü‡¶ø ‡¶ú‡ßÄ‡¶¨‡¶® ‡¶¨‡¶æ‡¶Å‡¶ö‡¶æ‡¶®‡ßã‡¶∞ ‡¶∏‡ßç‡¶¨‡¶™‡ßç‡¶® ‡¶Ü‡¶ú ‡¶π‡¶≤‡ßã ‡¶Ö‡¶ô‡ßç‡¶ï‡¶ø‡¶§! ‡¶∞‡¶ï‡ßç‡¶§ ‡¶¶‡¶æ‡¶® ‡¶∂‡ßÅ‡¶ß‡ßÅ ‡¶â‡¶™‡¶π‡¶æ‡¶∞ ‡¶®‡¶Ø‡¶º, ‡¶è‡¶ü‡¶ø ‡¶Æ‡¶π‡¶æ‡¶®‡ßÅ‡¶≠‡¶¨‡¶§‡¶æ‡¶∞ ‡¶ö‡¶ø‡¶π‡ßç‡¶®, ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶è‡¶á ‡¶¶‡¶æ‡¶®‡ßá‡¶á ‡¶π‡¶Ø‡¶º‡¶§‡ßã ‡¶ï‡ßá‡¶â ‡¶™‡ßá‡¶≤ ‡¶®‡¶§‡ßÅ‡¶® ‡¶™‡ßç‡¶∞‡¶æ‡¶£‡ßá‡¶∞ ‡¶∏‡ßç‡¶™‡¶∞‡ßç‡¶∂!";
                successModal.show();
                donorForm.reset();
                loadDonors();
            } catch (error) {
                document.getElementById('errorMessage').textContent = 
                    '‡¶§‡ßç‡¶∞‡ßÅ‡¶ü‡¶ø: ' + error.message;
                errorModal.show();
            }
        });

        // Handle blood request form submission
        requestForm.addEventListener('submit', async function(e) {
            e.preventDefault();
            
            const requestData = {
                division: document.getElementById('requestDivision').value,
                district: document.getElementById('requestDistrict').value,
                upazila: document.getElementById('requestUpazila').value,
                location: document.getElementById('requestLocation').value,
                bloodGroup: document.getElementById('requestBloodGroup').value,
                amount: document.getElementById('bloodAmount').value,
                phone: formatPhoneNumber(document.getElementById('requesterPhone').value),
                requiredDate: document.getElementById('requiredDateTime').value,
                requestDate: new Date().toISOString(),
                status: "pending"
            };
            
            try {
                // Save request
                await addDoc(collection(db, 'requests'), requestData);
                
                // Send notifications
                await sendBloodRequestNotifications(requestData);
                
                // Generate WhatsApp message
                const whatsappMessage = `‡¶∞‡¶ï‡ßç‡¶§‡ßá‡¶∞ ‡¶Ö‡¶®‡ßÅ‡¶∞‡ßã‡¶ß ‡¶®‡¶ø‡¶∂‡ßç‡¶ö‡¶ø‡¶§‡¶ï‡¶∞‡¶£:\n\n‡¶¨‡¶ø‡¶≠‡¶æ‡¶ó: ${requestData.division}\n‡¶ú‡ßá‡¶≤‡¶æ: ${requestData.district}\n‡¶â‡¶™‡¶ú‡ßá‡¶≤‡¶æ: ${requestData.upazila}\n‡¶∏‡ßç‡¶•‡¶æ‡¶®: ${requestData.location}\n‡¶∞‡¶ï‡ßç‡¶§‡ßá‡¶∞ ‡¶ó‡ßç‡¶∞‡ßÅ‡¶™: ${requestData.bloodGroup}\n‡¶™‡¶∞‡¶ø‡¶Æ‡¶æ‡¶£: ${requestData.amount} ‡¶¨‡ßç‡¶Ø‡¶æ‡¶ó\n‡¶Ø‡ßã‡¶ó‡¶æ‡¶Ø‡ßã‡¶ó: ${requestData.phone}\n‡¶§‡¶æ‡¶∞‡¶ø‡¶ñ: ${new Date(requestData.requiredDate).toLocaleString()}`;
                
                const whatsappLink = generateWhatsAppLink("8801960506601", whatsappMessage);
                
                document.getElementById('successMessage').textContent = 
                    "‡¶∞‡¶ï‡ßç‡¶§‡ßá‡¶∞ ‡¶Ö‡¶®‡ßÅ‡¶∞‡ßã‡¶ß ‡¶∏‡¶´‡¶≤‡¶≠‡¶æ‡¶¨‡ßá ‡¶ú‡¶Æ‡¶æ ‡¶¶‡ßá‡¶ì‡¶Ø‡¶º‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá! ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶∞‡¶ï‡ßç‡¶§‡ßá‡¶∞ ‡¶ó‡ßç‡¶∞‡ßÅ‡¶™‡ßá‡¶∞ ‡¶â‡¶™‡¶Ø‡ßÅ‡¶ï‡ßç‡¶§ ‡¶¶‡¶æ‡¶§‡¶æ‡¶¶‡ßá‡¶∞ ‡¶ï‡¶æ‡¶õ‡ßá SMS ‡¶è ‡¶¨‡¶ø‡¶ú‡ßç‡¶û‡¶™‡ßç‡¶§‡¶ø ‡¶™‡¶æ‡¶†‡¶æ‡¶®‡ßã ‡¶π‡¶¨‡ßá‡•§";
                successModal.show();
                requestForm.reset();
                
                // Open WhatsApp
                window.open(whatsappLink, '_blank');
            } catch (error) {
                document.getElementById('errorMessage').textContent = 
                    '‡¶§‡ßç‡¶∞‡ßÅ‡¶ü‡¶ø: ' + error.message;
                errorModal.show();
            }
        });

        // Send notifications to matching donors
        async function sendBloodRequestNotifications(requestData) {
            try {
                const q = query(
                    collection(db, 'donors'),
                    where('bloodGroup', '==', requestData.bloodGroup),
                    where('district', '==', requestData.district),
                    where('status', '==', 'active')
                );
                
                const querySnapshot = await getDocs(q);
                
                querySnapshot.forEach(doc => {
                    const donor = doc.data();
                    console.log(`Notifying donor: ${donor.name} (${donor.phone})`);
                    
                    if (donor.fcmToken) {
                        console.log("Sending push notification to FCM token:", donor.fcmToken);
                    }
                    
                    const whatsappMessage = `üîî ‡¶ú‡¶∞‡ßÅ‡¶∞‡¶ø ‡¶∞‡¶ï‡ßç‡¶§‡ßá‡¶∞ ‡¶™‡ßç‡¶∞‡ßü‡ßã‡¶ú‡¶®!\n\n‡¶Ö‡¶¨‡¶∏‡ßç‡¶•‡¶æ‡¶®: ${requestData.district}, ${requestData.upazila}\n‡¶∏‡ßç‡¶•‡¶æ‡¶®: ${requestData.location}\n‡¶∞‡¶ï‡ßç‡¶§‡ßá‡¶∞ ‡¶ó‡ßç‡¶∞‡ßÅ‡¶™: ${requestData.bloodGroup}\n‡¶™‡¶∞‡¶ø‡¶Æ‡¶æ‡¶£: ${requestData.amount} ‡¶¨‡ßç‡¶Ø‡¶æ‡¶ó\n‡¶Ø‡ßã‡¶ó‡¶æ‡¶Ø‡ßã‡¶ó: ${requestData.phone}\n‡¶§‡¶æ‡¶∞‡¶ø‡¶ñ: ${new Date(requestData.requiredDate).toLocaleString()}`;
                    
                    const whatsappUrl = generateWhatsAppLink(donor.phone, whatsappMessage);
                    console.log("WhatsApp URL:", whatsappUrl);
                });
            } catch (error) {
                console.error("Error sending notifications:", error);
            }
        }

        // Handle emergency WhatsApp request
        sendEmergencyRequest.addEventListener('click', function() {
            const bloodGroup = document.getElementById('emergencyBloodGroup').value;
            const location = document.getElementById('emergencyLocation').value;
            const phone = formatPhoneNumber(document.getElementById('emergencyPhone').value);
            const details = document.getElementById('emergencyDetails').value;
            
            if (!bloodGroup || !location || !phone) {
                document.getElementById('errorMessage').textContent = '‡¶∏‡¶Æ‡¶∏‡ßç‡¶§ ‡¶™‡ßç‡¶∞‡¶Ø‡¶º‡ßã‡¶ú‡¶®‡ßÄ‡¶Ø‡¶º ‡¶§‡¶•‡ßç‡¶Ø ‡¶™‡ßç‡¶∞‡¶¶‡¶æ‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®';
                errorModal.show();
                return;
            }
            
            const whatsappMessage = `üîî ‡¶ú‡¶∞‡ßÅ‡¶∞‡¶ø ‡¶∞‡¶ï‡ßç‡¶§‡ßá‡¶∞ ‡¶™‡ßç‡¶∞‡ßü‡ßã‡¶ú‡¶®!\n\n‡¶∞‡¶ï‡ßç‡¶§‡ßá‡¶∞ ‡¶ó‡ßç‡¶∞‡ßÅ‡¶™: ${bloodGroup}\n‡¶Ö‡¶¨‡¶∏‡ßç‡¶•‡¶æ‡¶®: ${location}\n‡¶Ø‡ßã‡¶ó‡¶æ‡¶Ø‡ßã‡¶ó: ${phone}\n‡¶Ö‡¶§‡¶ø‡¶∞‡¶ø‡¶ï‡ßç‡¶§ ‡¶§‡¶•‡ßç‡¶Ø: ${details || 'N/A'}`;
            
            const whatsappLink = generateWhatsAppLink("8801960506601", whatsappMessage);
            
            window.open(whatsappLink, '_blank');
            emergencyModal.hide();
            
            document.getElementById('successMessage').textContent = '‡¶ú‡¶∞‡ßÅ‡¶∞‡¶ø ‡¶Ö‡¶®‡ßÅ‡¶∞‡ßã‡¶ß WhatsApp-‡¶è ‡¶™‡¶æ‡¶†‡¶æ‡¶®‡ßã ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá';
            successModal.show();
            emergencyForm.reset();
        });

        // Update donor's last donation date
        async function updateDonorLastDonation(phone, newDonationDate) {
            try {
                phone = formatPhoneNumber(phone);
                
                if (!phone || !newDonationDate) {
                    throw new Error('‡¶´‡ßã‡¶® ‡¶®‡¶Æ‡ßç‡¶¨‡¶∞ ‡¶è‡¶¨‡¶Ç ‡¶§‡¶æ‡¶∞‡¶ø‡¶ñ ‡¶Ö‡¶¨‡¶∂‡ßç‡¶Ø‡¶á ‡¶¶‡¶ø‡¶§‡ßá ‡¶π‡¶¨‡ßá');
                }

                if (!/^(01[3-9]\d{8})$/.test(phone)) {
                    throw new Error('‡¶∏‡¶†‡¶ø‡¶ï ‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ‡¶¶‡ßá‡¶∂‡ßÄ ‡¶Æ‡ßã‡¶¨‡¶æ‡¶á‡¶≤ ‡¶®‡¶Æ‡ßç‡¶¨‡¶∞ ‡¶¶‡¶ø‡¶® (01XXXXXXXXX)');
                }

                const q = query(
                    collection(db, 'donors'),
                    where('phone', '==', phone),
                    where('status', '==', 'active')
                );
                
                const querySnapshot = await getDocs(q);
                
                if (querySnapshot.empty) {
                    throw new Error('‡¶è‡¶á ‡¶´‡ßã‡¶® ‡¶®‡¶Æ‡ßç‡¶¨‡¶∞ ‡¶¶‡¶ø‡ßü‡ßá ‡¶ï‡ßã‡¶®‡ßã ‡¶∏‡¶ï‡ßç‡¶∞‡¶ø‡ßü ‡¶∞‡¶ï‡ßç‡¶§‡¶¶‡¶æ‡¶§‡¶æ ‡¶™‡¶æ‡¶ì‡ßü‡¶æ ‡¶Ø‡¶æ‡ßü‡¶®‡¶ø');
                }
                
                const donorDoc = querySnapshot.docs[0];
                await updateDoc(doc(db, 'donors', donorDoc.id), {
                    lastDonation: newDonationDate,
                    lastUpdated: new Date().toISOString()
                });
                
                return {
                    success: true,
                    message: '‡¶∏‡¶∞‡ßç‡¶¨‡¶∂‡ßá‡¶∑ ‡¶∞‡¶ï‡ßç‡¶§‡¶¶‡¶æ‡¶®‡ßá‡¶∞ ‡¶§‡¶æ‡¶∞‡¶ø‡¶ñ ‡¶∏‡¶´‡¶≤‡¶≠‡¶æ‡¶¨‡ßá ‡¶Ü‡¶™‡¶°‡ßá‡¶ü ‡¶ï‡¶∞‡¶æ ‡¶π‡ßü‡ßá‡¶õ‡ßá!'
                };
            } catch (error) {
                console.error('‡¶Ü‡¶™‡¶°‡ßá‡¶ü ‡¶ï‡¶∞‡¶§‡ßá ‡¶§‡ßç‡¶∞‡ßÅ‡¶ü‡¶ø:', error);
                return {
                    success: false,
                    message: `‡¶Ü‡¶™‡¶°‡ßá‡¶ü ‡¶ï‡¶∞‡¶§‡ßá ‡¶¨‡ßç‡¶Ø‡¶∞‡ßç‡¶•: ${error.message}`
                };
            }
        }

        // Handle update donation button click
        updateDonationBtn.addEventListener('click', async function() {
            const phone = document.getElementById('updatePhone').value;
            const newDonationDate = document.getElementById('updateDonationDate').value;
            
            const result = await updateDonorLastDonation(phone, newDonationDate);
            
            if (result.success) {
                document.getElementById('successMessage').textContent = result.message;
                successModal.show();
                updateDonationForm.reset();
                updateDonationModal.hide();
                loadDonors();
            } else {
                document.getElementById('errorMessage').textContent = result.message;
                errorModal.show();
            }
        });
        
        // Handle donor search
        searchForm.addEventListener('submit', function(e) {
            e.preventDefault();
            loadDonors();
        });

        // Load and display donors
        async function loadDonors() {
            try {
                showLoading(true);
                donorList.innerHTML = '';
                
                const division = document.getElementById('searchDivision').value;
                const district = document.getElementById('searchDistrict').value;
                const bloodGroup = document.getElementById('searchBloodGroup').value;
                
                let q = query(collection(db, 'donors'), where('status', '==', 'active'));
                
                if (division && division !== '') {
                    q = query(q, where('division', '==', division));
                }
                
                if (district && district !== '') {
                    q = query(q, where('district', '==', district));
                }
                
                if (bloodGroup && bloodGroup !== '') {
                    q = query(q, where('bloodGroup', '==', bloodGroup));
                }

                const querySnapshot = await getDocs(q);
                
                if (querySnapshot.empty) {
                    donorList.innerHTML = `
                        <div class="col-12 text-center py-4">
                            <p class="bangla-text">‡¶ï‡ßã‡¶® ‡¶∞‡¶ï‡ßç‡¶§‡¶¶‡¶æ‡¶§‡¶æ ‡¶™‡¶æ‡¶ì‡¶Ø‡¶º‡¶æ ‡¶Ø‡¶æ‡¶Ø‡¶º‡¶®‡¶ø‡•§ ‡¶Ö‡¶®‡ßÅ‡¶ó‡ßç‡¶∞‡¶π ‡¶ï‡¶∞‡ßá ‡¶Ö‡¶®‡ßç‡¶Ø ‡¶´‡¶ø‡¶≤‡ßç‡¶ü‡¶æ‡¶∞ ‡¶¶‡¶ø‡¶Ø‡¶º‡ßá ‡¶ö‡ßá‡¶∑‡ßç‡¶ü‡¶æ ‡¶ï‡¶∞‡ßÅ‡¶®‡•§</p>
                        </div>
                    `;
                } else {
                    querySnapshot.forEach(doc => {
                        const donor = doc.data();
                        const donorCard = createDonorCard(donor);
                        donorList.appendChild(donorCard);
                    });
                }
            } catch (error) {
                console.error("Error loading donors:", error);
                donorList.innerHTML = `
                    <div class="col-12 text-center py-4">
                        <p class="bangla-text text-danger">‡¶¶‡¶æ‡¶§‡¶æ‡¶¶‡ßá‡¶∞ ‡¶≤‡ßã‡¶° ‡¶ï‡¶∞‡¶§‡ßá ‡¶§‡ßç‡¶∞‡ßÅ‡¶ü‡¶ø ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá‡•§ ‡¶Ö‡¶®‡ßÅ‡¶ó‡ßç‡¶∞‡¶π‡¶™‡ßÇ‡¶∞‡ßç‡¶¨‡¶ï ‡¶Ü‡¶¨‡¶æ‡¶∞ ‡¶ö‡ßá‡¶∑‡ßç‡¶ü‡¶æ ‡¶ï‡¶∞‡ßÅ‡¶®‡•§</p>
                        <p>‡¶§‡ßç‡¶∞‡ßÅ‡¶ü‡¶ø: ${error.message}</p>
                    </div>
                `;
            } finally {
                showLoading(false);
            }
        }

        // Create donor card HTML
        function createDonorCard(donor) {
            const card = document.createElement('div');
            card.className = 'col-md-6 col-lg-4 mb-4';
            
            card.innerHTML = `
                <div class="card donor-card h-100">
                    <div class="card-body">
                        <div class="d-flex justify-content-between align-items-center mb-3">
                            <h5 class="card-title mb-0">${donor.name || '‡¶®‡¶æ‡¶Æ ‡¶®‡ßá‡¶á'}</h5>
                            <span class="blood-group-badge">${donor.bloodGroup || 'N/A'}</span>
                        </div>
                        <p class="card-text"><i class="fas fa-map-marker-alt"></i> ${donor.district || ''}, ${donor.upazila || ''}</p>
                        <p class="card-text"><i class="fas fa-phone"></i> ${donor.phone || '‡¶®‡¶Æ‡ßç‡¶¨‡¶∞ ‡¶®‡ßá‡¶á'}</p>
                        ${donor.lastDonation ? `
                            <div class="last-donation-info">
                                <i class="fas fa-calendar-alt"></i> ‡¶∏‡¶∞‡ßç‡¶¨‡¶∂‡ßá‡¶∑ ‡¶∞‡¶ï‡ßç‡¶§‡¶¶‡¶æ‡¶®: ${formatDate(donor.lastDonation)}
                            </div>
                        ` : ''}
                        <div class="mt-2">
                            <span class="donor-status">‡¶∏‡¶ï‡ßç‡¶∞‡¶ø‡¶Ø‡¶º</span>
                        </div>
                    </div>
                    <div class="card-footer bg-transparent d-flex gap-2">
                        <a href="tel:${donor.phone}" class="btn btn-primary flex-grow-1 contact-btn">
                            <i class="fas fa-phone"></i> ‡¶ï‡¶≤ ‡¶ï‡¶∞‡ßÅ‡¶®
                        </a>
                        <a href="${generateWhatsAppLink(donor.phone, '‡¶∞‡¶ï‡ßç‡¶§‡ßá‡¶∞ ‡¶Ö‡¶®‡ßÅ‡¶∞‡ßã‡¶ß ‡¶∏‡¶Æ‡ßç‡¶™‡¶∞‡ßç‡¶ï‡ßá ‡¶ú‡¶æ‡¶®‡¶§‡ßá ‡¶ö‡¶æ‡¶á')}" class="btn whatsapp-btn">
                            <i class="fab fa-whatsapp"></i>
                        </a>
                    </div>
                </div>
            `;
            
            return card;
        }

        // Show/hide loading spinner
        function showLoading(state) {
            if (state) {
                donorLoading.innerHTML = `
                    <div class="spinner-border text-primary" style="width: 3rem; height: 3rem;" role="status">
                        <span class="visually-hidden">‡¶≤‡ßã‡¶° ‡¶π‡¶ö‡ßç‡¶õ‡ßá...</span>
                    </div>
                    <p class="bangla-text mt-3">‡¶∞‡¶ï‡ßç‡¶§‡¶¶‡¶æ‡¶§‡¶æ‡¶¶‡ßá‡¶∞ ‡¶§‡¶•‡ßç‡¶Ø ‡¶≤‡ßã‡¶° ‡¶ï‡¶∞‡¶æ ‡¶π‡¶ö‡ßç‡¶õ‡ßá...</p>
                    <p class="bangla-text small text-muted">‡¶Ö‡¶®‡ßÅ‡¶ó‡ßç‡¶∞‡¶π ‡¶ï‡¶∞‡ßá ‡¶Ö‡¶™‡ßá‡¶ï‡ßç‡¶∑‡¶æ ‡¶ï‡¶∞‡ßÅ‡¶®</p>
                `;
                donorLoading.style.display = 'block';
            } else {
                donorLoading.style.display = 'none';
            }
        }

        // Format date
        function formatDate(dateString) {
            if (!dateString) return '‡¶®‡¶ø‡¶∞‡ßç‡¶¶‡¶ø‡¶∑‡ßç‡¶ü ‡¶ï‡¶∞‡¶æ ‡¶π‡¶Ø‡¶º‡¶®‡¶ø';
            const date = new Date(dateString);
            return date.toLocaleDateString('bn-BD');
        }

        // Format phone number
        function formatPhoneNumber(phone) {
            let cleaned = phone.replace(/\D/g, '');
            
            if (cleaned.startsWith('88')) {
                cleaned = cleaned.substring(2);
            } else if (cleaned.startsWith('+88')) {
                cleaned = cleaned.substring(3);
            }
            
            if (cleaned.length === 10 && cleaned.startsWith('1')) {
                cleaned = '0' + cleaned;
            }
            
            return cleaned;
        }

        // Validate donor form
        function validateDonorForm(donor) {
            if (!donor.name || !donor.bloodGroup || !donor.phone || 
                !donor.division || !donor.district || !donor.upazila) {
                showAlert('‡¶∏‡¶Æ‡¶∏‡ßç‡¶§ ‡¶™‡ßç‡¶∞‡¶Ø‡¶º‡ßã‡¶ú‡¶®‡ßÄ‡¶Ø‡¶º ‡¶§‡¶•‡ßç‡¶Ø ‡¶™‡ßç‡¶∞‡¶¶‡¶æ‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®', 'error');
                return false;
            }

            if (!/^(01[3-9]\d{8})$/.test(donor.phone)) {
                showAlert('‡¶∏‡¶†‡¶ø‡¶ï ‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ‡¶¶‡ßá‡¶∂‡ßÄ ‡¶Æ‡ßã‡¶¨‡¶æ‡¶á‡¶≤ ‡¶®‡¶Æ‡ßç‡¶¨‡¶∞ ‡¶¶‡¶ø‡¶® (01XXXXXXXXX)', 'error');
                return false;
            }

            return true;
        }

        // Show alert message
        function showAlert(message, type) {
            const alertDiv = document.createElement('div');
            alertDiv.className = `alert alert-${type === 'error' ? 'danger' : 'success'} alert-fixed`;
            alertDiv.textContent = message;
            document.body.appendChild(alertDiv);
            
            setTimeout(() => {
                alertDiv.remove();
            }, 3000);
        }

        // Auto-refresh every 5 minutes
        setInterval(() => {
            if (!document.hidden) {
                loadDonors();
            }
        }, 5 * 60 * 1000);
    </script>
</body>
</html>
